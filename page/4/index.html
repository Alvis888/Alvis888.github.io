<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="谢红光" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="茶壶盖">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="茶壶盖">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="茶壶盖">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="茶壶盖" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/dog.jpg">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>茶壶盖</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/dog.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">谢红光</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/xiehongguang0228@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/Alvis888" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa StackOverflow" href="https://stackoverflow.com/users/6244981/xiehongguang" title="StackOverflow"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NET/">.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/360云/">360云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AZURE/">AZURE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Axis属性/">Axis属性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bt/">Bt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Build-Event/">Build Event</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-写入文件/">C#写入文件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CURD/">CURD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESLint/">ESLint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Email/">Email</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ExecuteNonQuery/">ExecuteNonQuery ()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/">Json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LUIS/">LUIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-D3-Axis/">React-D3 Axis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL-server/">SQL server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Socket/">Socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS/">VS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bat/">bat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bot/">bot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bot-framework/">bot framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c-c/">c/c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/case语句/">case语句</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/date/">date()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dialog/">dialog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fetch/">fetch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fetch链接数据库/">fetch链接数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hook/">hook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/material-ui/">material ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microsoft-bot/">microsoft bot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/office/">office</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qq/">qq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rn/">rn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sate/">sate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/select/">select</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/server-2008/">server 2008</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/service/">service</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slack/">slack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlserver/">sqlserver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql日期加减/">sql日期加减</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql日期格式化/">sql日期格式化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/static/">static</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/string/">string</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thinkphp/">thinkphp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/time/">time()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-api/">web api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webhook/">webhook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webhook，Gitlab/">webhook，Gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-service/">windows service</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/word/">word</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wpf/">wpf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内存管理/">内存管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/删除/">删除</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图片库/">图片库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/存储过程/">存储过程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实体形式/">实体形式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/弹窗/">弹窗</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/截取/">截取</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搭建/">搭建</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库，AZURE/">数据库，AZURE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/时间戳/">时间戳</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电影/">电影</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/登陆页面/">登陆页面</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/种子/">种子</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/空白页/">空白页</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网盘搜索/">网盘搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网站/">网站</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/美剧/">美剧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/选择框/">选择框</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邮件/">邮件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/链接/">链接</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">谢红光</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/dog.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">谢红光</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/xiehongguang0228@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/Alvis888" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa StackOverflow" target="_blank" href="https://stackoverflow.com/users/6244981/xiehongguang" title="StackOverflow"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-Sql Server 统计每天量" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/16/Sql Server 统计每天量/" class="article-date">
      <time datetime="2016-09-16T04:11:02.000Z" itemprop="datePublished">2016-09-16</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/16/Sql Server 统计每天量/">Sql Server 统计每天量</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>一、通过天数叠加进行统计</strong></p>
<p><strong>使用 CONVERT（，，）方法将日期精确到日期，然后用DATEADD（，，）方法进行天数叠加</strong></p>
<p>发此方法是用最简单的SQL语句进行统计，分别统计出1天内、2天内、3天内的总的数据记录，然后通过for循环进行减运算，最后得出每天的数据量。此种方法最大的弊端就是时间复杂度太高，而需要遍历n多次数据库才能的得到最终结果。</p>
<pre><code> public List&amp;lt;int&amp;gt; GetCommitTotal_Personally_ByDay(string username, int queryDays)
    {
        List&amp;lt;int&amp;gt; list = new List&amp;lt;int&amp;gt;();
        SqlConnection conn = connectLocaldb.ConnectDataBase();
        //打开数据库
        conn.Open();
        //创建查询语句
        SqlCommand querySingleInfo = conn.CreateCommand();

        for (int i = 0; i &amp;lt; queryDays; i++)
        {
            querySingleInfo.CommandText = &quot;SELECT COUNT(*) as times FROM MemberCommitBeforeCompiling where UserName=&quot; + &quot;&apos;&quot; + username + &quot;&apos;AND DATEADD(d,-&quot; + i + &quot;, CONVERT(varchar(12), getdate(), 111)) &amp;lt;= CONVERT(varchar(12), CommitTime, 111) &quot;;

            using (SqlDataReader reader = querySingleInfo.ExecuteReader())
            {
                // Loop over the results 
                while (reader.Read())
                {
                    memberCommit.times = reader[&quot;times&quot;].ToString().Trim();
                    num[i] = int.Parse(memberCommit.times);
                }
            }
        }
        list.Add(num[0]);
        if (queryDays &amp;gt; 1)
        {
            for (int i = 1; i &amp;lt; queryDays; i++)
            {
                list.Add(num[i] - num[i - 1]);
            }
        }
        list.Reverse();
        //关闭数据库连接
        conn.Close();
        return list;
    }`&lt;/pre&gt;
**二、格式化数据类型，直接查询**。

**使用 CONVERT（，，）方法直接格式化精确到日期**

相比于第一种，在时间上得到了很大的优化，只需一次查询就可以得到准确数据。弊端是，如果数据库中没有该日期的数据计划，则不返回数据，所以每一次操作都需要对所得数据进行一次遍历。相对于时间上的优化，这个弊端可以忽略不计。
&lt;pre&gt;`  public Dictionary&amp;lt;int,int&amp;gt; GetCommitByDays(string username,int querydays)
    {
        //以当前日作第一天，0代表今天
        querydays--;
        Dictionary&amp;lt;int, int&amp;gt; commitNumber = new Dictionary&amp;lt;int, int&amp;gt;();
        //连接本地数据库
        SqlConnection conn = connectLocaldb.ConnectDataBase();
        //打开数据库
        conn.Open();
        //创建查询语句
        SqlCommand querySingleInfo = conn.CreateCommand();
        querySingleInfo.CommandText = &quot;SELECT CONVERT(varchar(12), CommitTime, 112) as queryKey, COUNT(CONVERT(varchar(12), CommitTime, 112)) as queryValue FROM MemberCommitBeforeCompiling  where UserName=&quot; + &quot;&apos;&quot; + username + &quot;&apos; and DATEADD(d,-&quot;+querydays+&quot;, CONVERT(varchar(12), getdate(), 112)) &amp;lt;= CONVERT(varchar(12), CommitTime, 112)  group by CONVERT(varchar(12), CommitTime, 112) order by CONVERT(varchar(12), CommitTime, 112)desc&quot;;
        SqlDataReader singleInfoReader = querySingleInfo.ExecuteReader();
        //有多行数据，用while循环
        while (singleInfoReader.Read())
        {
            int key =int.Parse( singleInfoReader[&quot;queryKey&quot;].ToString().Trim());
            int value= int.Parse(singleInfoReader[&quot;queryValue&quot;].ToString().Trim());
            commitNumber.Add(key, value);
        }
        //关闭查询
        singleInfoReader.Close();
        //关闭数据库连接
        conn.Close();
        return commitNumber;
    }
</code></pre><p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/SQL/">SQL</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NET/">.NET</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-server/">SQL server</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-gitlab-webhook-api" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/09/13/gitlab-webhook-api/" class="article-date">
      <time datetime="2016-09-13T06:10:27.000Z" itemprop="datePublished">2016-09-13</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/13/gitlab-webhook-api/">Gitlab WebHook API</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>webhook的作用：当gitlab server上有任何动作触发时，server端会自动返回一段json数据，记录该动作的所有信息。通过搭建自己写的API来解析json数据，来监控团队内的所有代码及其相关信息动态（提交、编译、issue、评论等）。</p>
<p>获取json数据方法 <a href="http://www.ihongguang.cn/?p=99" target="_blank" rel="external">http://www.ihongguang.cn/?p=99</a></p>
<p><strong>PushEvents</strong></p>
<pre><code> public int PushEventInfo([FromBody]PushEvent push)
    {
        ProjectController project = new ProjectController();
        List&amp;lt;string&amp;gt; projectName = new List&amp;lt;string&amp;gt;();
        try
        {
            SqlConnection conn = connectLocaldb.ConnectDataBase();
            conn.Open();
            string sql = &quot;INSERT INTO MemberCommitBeforeCompiling(Username,ProjectName,Version,GroupName,CommitTime,Branch) VALUES (&apos;&quot; + push.user_name + &quot;&apos;,&apos;&quot; + push.project.name + &quot;&apos;,&apos;&quot; + push.after + &quot;&apos;,&apos;&quot; + groupname + &quot;&apos;,getdate(),&apos;&quot; + push.@ref + &quot;&apos;) &quot;;
            SqlCommand cmd = new SqlCommand(sql, conn);
            int result = cmd.ExecuteNonQuery();
            //判断项目是否已存在
            IList&amp;lt;Project&amp;gt; namelist = project.GetAllProjectInfo();
            foreach(var i in namelist)
            {
                projectName.Add(i.projectName);
            }
            if (!projectName.Contains(push.project.name))
            {
                sql = &quot;INSERT INTO MemberProject(ProjectName,CommitTime，isdelete) VALUES (&apos;&quot; + push.project.name + &quot;&apos;,getdate(),&apos;0&apos;) &quot;;
                cmd = new SqlCommand(sql, conn);
                result = cmd.ExecuteNonQuery();
            }
            else
            {
                SqlCommand querySingleInfo = conn.CreateCommand();
                querySingleInfo.CommandText = &quot;SELECT projectMembers FROM MemberProject where projectName=&quot; + &quot;&apos;&quot; + push.project.name + &quot;&apos;&quot;;
                SqlDataReader singleInfoReader = querySingleInfo.ExecuteReader();
                //有多行数据，用while循环
                while (singleInfoReader.Read())
                {
                   username = singleInfoReader[&quot;projectMembers&quot;].ToString().Trim();
                }
                if(!username.Contains(push.user_name))
                {
                    sql = &quot;update MemberProject set ProjectMembers=&quot; + &quot;ProjectMembers+&apos;,&quot; + push.user_name + &quot;&apos;&quot;;
                    cmd = new SqlCommand(sql, conn);
                    result = cmd.ExecuteNonQuery();
                }
                //关闭查询
                singleInfoReader.Close();
            }
            conn.Close();
            return result;
        }
        catch (Exception e)
        {
            FileStream fs = new FileStream(&quot;c:\\log.txt&quot;, FileMode.Append, FileAccess.Write);
            StreamWriter sw = new StreamWriter(fs); // 创建写入流
            sw.WriteLine(e.ToString()); // 写入
            sw.Close();
            return 0;
        }

    }`&lt;/pre&gt;
**BuildEvents**
&lt;pre&gt;`    public int BuildEventInfo([FromBody]BuildEvent build)
    {
        if (build.build_status == &quot;running&quot; || build.build_status == &quot;pending&quot;) { return 0; }
        else
        {
            try
            {
                SqlConnection conn = connectLocaldb.ConnectDataBase();
                //打开数据库
                conn.Open();
                bool buildResult = (build.build_status == &quot;success&quot; ? true : false);
                string sql = &quot;insert into MemberCommit(UserName,ProjectName,SpendTime,BeginTime,EndTime,Version,Result,CommitTime,Branch) Values(&apos;&quot; + build.user.name + &quot;&apos;,&apos;&quot; + build.project_name + &quot;&apos;,&apos;&quot; + build.build_duration + &quot;&apos;,DATEADD(hh,8,&apos;&quot; + (build.build_started_at).Substring(0, build.build_started_at.Length - 3) + &quot;&apos;),DATEADD(hh,8,&apos;&quot; + (build.build_finished_at).Substring(0, build.build_finished_at.Length - 3) + &quot;&apos;),&apos;&quot; + build.before_sha + &quot;&apos;,&apos;&quot; + buildResult + &quot;&apos;,getdate(),&apos;&quot; + build.@ref + &quot;&apos;)&quot;;
                SqlCommand cmd = new SqlCommand(sql, conn);
                int result = cmd.ExecuteNonQuery();
                conn.Close();
                return result;
            }
            catch (Exception e)
            {
                FileStream fs1 = new FileStream(&quot;c:\\test\\log.txt&quot;, FileMode.Append, FileAccess.Write);
                StreamWriter sw1 = new StreamWriter(fs1); // 创建写入流
                string s = (build.user.name);
                sw1.WriteLine(e.ToString()); // 写入
                sw1.Close();
                return 0;
            }
        }
    }`&lt;/pre&gt;
**IssueEvents**
&lt;pre&gt;`  string sql; int result;
    public int IssueEventInfo([FromBody]IssueEvent issue)
    {
        try
        {
            SqlConnection conn = connectLocaldb.ConnectDataBase();
            conn.Open();
            sql = &quot;insert into MemberIssue(assignee,projectname,starttime,updatetime,initiator,state,issue) Values(&apos;&quot; + issue.assignee.name + &quot;&apos;,&apos;&quot; + issue.project.name + &quot;&apos;,DATEADD(hh,8,&apos;&quot; + (issue.object_attributes.created_at).Substring(0, (issue.object_attributes.created_at).Length - 3) + &quot;&apos;),DATEADD(hh,8,&apos;&quot; + (issue.object_attributes.updated_at).Substring(0, (issue.object_attributes.updated_at).Length - 3) + &quot;&apos;),&apos;&quot; + issue.user.name + &quot;&apos;,&apos;&quot; + issue.object_attributes.state + &quot;&apos;,&quot; + issue.object_attributes.iid + &quot;)&quot;;
            SqlCommand cmd = new SqlCommand(sql, conn);
            int result = cmd.ExecuteNonQuery();
            conn.Close();
        }
        catch (Exception e)
        {
            FileStream fs = new FileStream(&quot;c:\\text\\log.txt&quot;, FileMode.Append, FileAccess.Write);
            StreamWriter sw = new StreamWriter(fs); // 创建写入流
            sw.WriteLine(e.ToString()); // 写入
            //sw.WriteLine(&quot;++&quot;); // 写入
            //sw.WriteLine(issue.before); // 写入
            //sw.WriteLine(&quot;++&quot;); // 写入
            sw.Close();
            result = 0;
        }
        return result;
    } 
</code></pre><p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Gitlab/">Gitlab</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gitlab/">gitlab</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hook/">hook</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webhook/">webhook</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-C# SQL server插入数据" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/31/C# SQL server插入数据/" class="article-date">
      <time datetime="2016-08-31T08:33:31.000Z" itemprop="datePublished">2016-08-31</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/31/C# SQL server插入数据/">C# SQL server插入数据</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>用C#语言向数据库中插数据并不是像Java一样需要占位符，而是严格按照Sql语句进行转化，并插入变量。详细解析请看这里 <a href="http://www.ihongguang.cn/?p=33" target="_blank" rel="external">http://www.ihongguang.cn/?p=33</a></p>
<p>不说废话，直接看代码，以下为WebApi实例代码</p>
<pre>     public bool PostRegister([FromBody]Member member)
     {
         member.sex = (member.sex == "male" ? "true" : "false");
         if (member.rank == "Root")
             rankNumber = 1;
         else
             if (member.rank == "Monitor")
                 rankNumber = 2;
             else
         rankNumber = 3;
         try
         {
             SqlConnection conn = connectLocaldb.ConnectDataBase();
             conn.Open();
             string sql = "INSERT INTO Member(username,password,sex,rank) VALUES ('" + member.username + "','" + member.username + "'+'_123','" + member.sex + "',"+ rankNumber + ")";
             SqlCommand cmd = new SqlCommand(sql, conn);
             int result = cmd.ExecuteNonQuery();
             conn.Close();
             flag = true;
         }
         catch(SqlException e)
         {
             flag = false;
         }
         return flag;
     } 
</pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/SQL/">SQL</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-server/">SQL server</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-C# ExecuteNonQuery()" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/30/C# ExecuteNonQuery()/" class="article-date">
      <time datetime="2016-08-30T10:30:26.000Z" itemprop="datePublished">2016-08-30</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/30/C# ExecuteNonQuery()/">C# ExecuteNonQuery()</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>在正常项目中，注册用户之前需要检查用户名是否已经被占用。由于仅知道ExecuteNonQuery()方法<span style="color: #ff0000;">返回被影响的行号，<span style="color: #000000;">便开始屁颠屁颠的写代码</span></span></p>
<pre><code>//连接本地数据库
SqlConnection conn = connectLocaldb.ConnectDataBase();
//打开数据库
conn.Open();
//创建查询语句
SqlCommand querySingleInfo = conn.CreateCommand();
querySingleInfo.CommandText = &quot;SELECT * FROM Member where UserName=&quot; + &quot;&apos;&quot; + username + &quot;&apos;&quot;;
int result = querySingleInfo.ExecuteNonQuery();
if(result&amp;gt;0)
{
    /*存在*/
}
else
{
    /*不存在*/
}
//关闭查询
singleInfoReader.Close();
//关闭数据库连接
</code></pre><p>结果在检测代码的时候发现<span style="color: #ff0000;"><span style="color: #000000;">返回值总是</span>-1<span style="color: #000000;">，所以任意一个检测样例均显示<span style="color: #ff0000;">未被占用<span style="color: #000000;">。那么问题就来了，ExecuteNonQuery()的返回值是什么？</span></span></span></span></p>
<p>此时只能看官方文档</p>
<h3 id="Remarks"><a href="#Remarks" class="headerlink" title=" Remarks"></a><strong> Remarks</strong></h3><p>You can use the <span class="selflink">ExecuteNonQuery</span> to perform catalog operations (<span style="color: #ff0000;">for example, querying the structure of a database or creating database objects such as tables</span>), or to change the data in a database without using a <a href="https://msdn.microsoft.com/en-us/library/system.data.dataset(v=vs.110" target="_blank" rel="external">DataSet</a>.aspx) by executing <span style="color: #ff0000;">UPDATE, INSERT, or DELETE</span> statements.</p>
<p>Although the <span class="selflink">ExecuteNonQuery</span> returns no rows, any output parameters or return values mapped to parameters are populated with data.</p>
<p>For UPDATE, INSERT, and DELETE statements, the return value is the number of rows affected by the command. When a trigger exists on a table being inserted or updated, the return value includes the number of rows affected by both the insert or update operation and the number of rows affected by the trigger or triggers. <span style="color: #ff0000;">For all other types of statements, the return value is -1. If a rollback occurs, the return value is also -1.</span></p>
<p>可以使用 ExecuteNonQuery 来执行目录操作（<span style="color: #ff0000;">例如查询数据库的结构或创建诸如表等的数据库对象</span>），或通过执行 <span style="color: #ff0000;">UPDATE、INSERT 或 DELETE</span> 语句，在不使用 DataSet 的情况下更改数据库中的数据。<br>进行填充。对于 UPDATE、INSERT 和 DELETE 语句，返回值为该命令所影响的行数。<span style="color: #ff0000;">对于所有其他类型的语句，返回值为 -1。如果发生回滚，返回值也为 -1</span><br>看完后才明白，原来select语句不适合ExecuteNonQuery()方法，原来是这样，真笨，方法用错了！特意把它记录下来，希望朋友不要犯类似的错误！</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>看完这些后会发现，在官方文档中，并没有提及关于<span style="color: #ff0000;">Select<span style="color: #000000;">的任何操作，所以C# ExecuteNonQuery()并<span style="color: #ff0000;"><strong>不支持Select操作</strong></span>，所以返回值均是-1.</span></span></p>
<p>我们可以使用 <strong>ExecuteNonQuery</strong> 来执行<span style="color: #ff0000;">目录操作</span>（例如查询数据库的结构或创建诸如表等的数据库对象），或通过执行 <span style="color: #ff0000;">UPDATE、INSERT 或 DELETE</span> 语句，在不使用 <a href="http://www.infowe.com/asp.net/sqlcommand/frlrfsystemdatadatasetclasstopic.htm" target="_blank" rel="external"> DataSet</a> 的情况下更改数据库中的数据。</p>
<p>虽然 <strong>ExecuteNonQuery</strong> 不返回任何行，但映射到参数的任何输出参数或返回值都会用数据进行填充。</p>
<p>对于 UPDATE、INSERT 和 DELETE 语句，返回值为该命令所影响的行数<span style="color: #ff0000;">。对于其他所有类型的语句，返回值为 -1。</span></p>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/SQL/">SQL</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ExecuteNonQuery/">ExecuteNonQuery ()</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-web-api" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/29/web-api/" class="article-date">
      <time datetime="2016-08-29T07:30:45.000Z" itemprop="datePublished">2016-08-29</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/29/web-api/">web api入门及部分问题（搭建）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>整个暑假一直在做一个数据统计类型的网站，我负责写基于Web Api框架的后台代码。</p>
<p><span id="mt1" class="sentence" data-source="ASP.NET Web API is a framework that makes it easy to build HTTP services that reach a broad range of clients, including browsers and mobile devices." data-guid="9af6ce626d60218be98820a4ac4397e6">ASP.NET Web API 是一种框架，用于轻松构建可以访问多种客户端（包括浏览器和移动设备）的 HTTP 服务。 </span><span id="mt2" class="sentence" data-source="ASP.NET Web API is an ideal platform for building RESTful applications on the .NET Framework." data-guid="099121e050c18cbae77589e9c407dab9">ASP.NET Web API 是一种用于在 .NET Framework 上构建 RESTful 应用程序的理想平台。</span></p>
<p>直接进入正题：</p>
<p>S1. 首先创建一个asp.net web应用程序（我本机用的是vs 2015）</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416155825.png" alt="QQ截图20160416155825"></p>
<p>根据自己的需要选择路径，点击确定</p>
<p>S2. 接下来选择空模板，核心引用选择Web API，点击确定，一个空模板就建成了</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416160009.png" alt="QQ截图20160416160009"></p>
<p>到这一步，代码框架基本上已经搭建好，下面是一些简单应用。</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416160125.png" alt="QQ截图20160416160125"></p>
<p>可以看到上图，默认的目录结构跟MVC差不多，只是少了View，因为View在这里是没又什么作用的。空模板建成，之后就需要添加我们需要的代码了。</p>
<p>主要的代码需要再Models以及Controllers中添加！Modles主要定义数据，Controllers则是方法的集合。另外除此之外，还有需要注意的地方就是App_Start文件夹下有一个名字叫做WebApiConfig.cs的文件，里面有一个系统已经默认的路由设置，我们可以直接用这个路由设置，也可以自己写路由，具体会在后面的地方说到！</p>
<p><span style="color: #ff0000;">》》创建实体类</span></p>
<p>在Models文件夹下添加类，名称为LogInfo.cs，前面提到过，Models是定义数据的，所以添加代码如下：（当然，数据的定义也可以不在Models下，可以直接写在Controllers方法中，但是这样写的话最直观的会增加代码量，降低效率，另外也不方便重用，直接单独在Models中定义数据，可以减少很多不必要的麻烦）(可不加)</p>
<p><div class="codecolorer-container csharp mac-classic"></div></p>
<p><table cellspacing="0" cellpadding="0"></table></p>
<p><tbody></tbody></p>
<p><tr></tr></p>
<p><td class="line-numbers"></td></p>
<p><div>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8</div></p>
<p><td></td></p>
<p><div class="csharp codecolorer"><span class="kw1">public</span> <span class="kw4">class</span> LogInfo<br><span class="br0">{</span><br><span class="kw1">public</span> <span class="kw4">string</span> CILogId <span class="br0">{</span> get<span class="sy0">;</span> set<span class="sy0">;</span> <span class="br0">}</span><br><span class="kw1">public</span> <span class="kw4">string</span> ProjectName <span class="br0">{</span> get<span class="sy0">;</span> set<span class="sy0">;</span> <span class="br0">}</span><br><span class="kw1">public</span> <span class="kw4">string</span> CommitVersion <span class="br0">{</span> get<span class="sy0">;</span> set<span class="sy0">;</span> <span class="br0">}</span><br><span class="kw1">public</span> <span class="kw4">string</span> Submitter <span class="br0">{</span> get<span class="sy0">;</span> set<span class="sy0">;</span> <span class="br0">}</span><span class="br0">}</span></div><br><br><br><br><span style="color: #ff0000;">》》创建Controller方法控制器</span></p>
<p><br>然后右键Controllers文件夹，添加LogInfoControllers.cs,当然也可以不用名字相对应，但是当controller文件以及models数据文件多的时候，名字操作相对应显得尤为重要，好的代码习惯可以节省很多时间。</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416162423.png" alt="QQ截图20160416162423"></p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416162640.png" alt="QQ截图20160416162640"></p>
<p>选择web Api 控制器-空（否则整个代码框架会发生很大变化），点击确定，更改名字为LogInfoControllers.cs，添加代码</p>
<p><div class="codecolorer-container csharp mac-classic"></div></p>
<p><table cellspacing="0" cellpadding="0"></table></p>
<p><tbody></tbody></p>
<p><tr></tr></p>
<p><td class="line-numbers"></td></p>
<p><div>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21</div></p>
<p><td></td></p>
<div class="csharp codecolorer">

<p>List<span class="sy0">&amp;</span>lt<span class="sy0">;</span>LogInfo<span class="sy0">&amp;</span>gt<span class="sy0">;</span> LogInfos <span class="sy0">=</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com" target="_blank" rel="external"><span class="kw3">new</span></a> List<span class="sy0">&amp;</span>lt<span class="sy0">;</span>LogInfo<span class="sy0">&amp;</span>gt<span class="sy0">;</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span></p>
<p><span class="kw1">public</span> LogInfoController<span class="br0">(</span><span class="br0">)</span><br><span class="br0">{</span></p>
<p>LogInfos<span class="sy0">.</span><span class="me1">Add</span><span class="br0">(</span><a href="http://www.google.com/search?q=new+msdn.microsoft.com" target="_blank" rel="external"><span class="kw3">new</span></a> LogInfo <span class="br0">{</span><br>CILogId <span class="sy0">=</span><span class="st0">“00001”</span>,<br>ProjectName<span class="sy0">=</span><span class="st0">“Demo”</span>,<br>CommitVersion <span class="sy0">=</span> <span class="st0">“1234”</span>,<br>Submitter <span class="sy0">=</span> <span class="st0">“xiaoming”</span></p>
<p><span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span><br><span class="br0">}</span></p>
<p><span class="co1">//获取所有数据接口</span><br><span class="kw1">public</span> List<span class="sy0">&amp;</span>lt<span class="sy0">;</span>LogInfo<span class="sy0">&amp;</span>gt<span class="sy0">;</span> GetAllLogInfo<span class="br0">(</span><span class="br0">)</span><br><span class="br0">{</span><br><span class="kw1">return</span> LogInfos<span class="sy0">;</span><br><span class="br0">}</span></p>
<p><span class="co1">//end</span></p>
<p></p></div><br><br><br><br><br>注意在粘贴List&lt;LogInfo&gt; LogInfos = new List&lt;LogInfo&gt;()后，会看到报错，是因为没有进行引用，直接添加对数据文件的引用就行。<p></p>
<p><span style="color: #ff0000;">》》Router配置</span></p>
<p>在项目的app_start有一个WebApiConfig.cs文件，里面定义了默认路由，代码是这样的</p>
<p><div class="codecolorer-container csharp mac-classic"></div></p>
<p><table cellspacing="0" cellpadding="0"></table></p>
<p><tbody></tbody></p>
<p><tr></tr></p>
<p><td class="line-numbers"></td></p>
<p><div>1<br>2<br>3<br>4<br>5</div></p>
<p><td></td></p>
<p><div class="csharp codecolorer">config<span class="sy0">.</span><span class="me1">Routes</span><span class="sy0">.</span><span class="me1">MapHttpRoute</span><span class="br0">(</span><br>name<span class="sy0">:</span> <span class="st0">“DefaultApi”</span>,<br>routeTemplate: “api/{controller}/{action}/{id}”,<br>defaults<span class="sy0">:</span> <a href="http://www.google.com/search?q=new+msdn.microsoft.com" target="_blank" rel="external"><span class="kw3">new</span></a> <span class="br0">{</span> id <span class="sy0">=</span> RouteParameter<span class="sy0">.</span><span class="me1">Optional</span> <span class="br0">}</span><br><span class="br0">)</span><span class="sy0">;</span></div><br><br><br><br><br>代码中的api就是地址中的api，{controller}对应的是Controllers文件夹下面的文件去掉controller后缀的名字，比如之前定义了一个LogInfoController.cs，那么去掉后缀就是LogInfo，刚好就是地址中的LogInfo，至于{id}是函数的参数，由于本函数并没有参数，那么就不用写。如果带参数，则用英文问号（“？”）连接{action}和{id},多个参数则用逻辑与（&amp;）符号来连接{id}</p>
<p><a href="http://localhost:53035/api/group/GetGroupMembersName?groupname=fgig" target="_blank" rel="external">http://localhost:53035/api/group/GetGroupMembersName?groupname=fgig</a></p>
<p>LogInfoController()是构造函数，主要给数据进行初始化，当然在平时项目中不可能像这样直接进行赋值，很多情况下需要连接数据库进行数据的检索获取，然后再进行赋值操作，这里为了简便，我就直接对其进行赋值！</p>
<p>而在GetAllLogInfo()中直接返回LogInfos信息，当远程访问的时候执行这个函数，就可以获得相应的数据！</p>
<p>其他文件不用更改，这样一个最简单的web api就实现了，只要部署一下就可以直接从远端获取数据了。当然，除了获取数据之外，还有从远端post，delete等一些基本的操作，这里就只列出一个get方法。</p>
<p><span style="color: #ff0000;">》》实现webapi访问</span></p>
<p>下面就是部署，直接可以远程访问数据。对于web api来说，他的部署有两种承载的方式，一个是自身承载，一个就是用iis部署，在vs中有自带的承载器，我们这里主要介绍windows系统的iis承载方法。</p>
<p>在用iis承载之前，要首先确定你的电脑iis是否已经开启！</p>
<p>（win7为例）</p>
<p>可以 依次点击  开始&gt;控制面板&gt;程序</p>
<p><strong><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/13.png" alt="13"></strong></p>
<p>找到“程序和功能”,点击<strong>打开或关闭Windows功能</strong></p>
<p><strong> </strong><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/2.png" alt="2"></p>
<p>进入到“打开或关闭Windows功能”页面后，找到”Internet信息服务“一栏，点击”<strong>Internet信息服务</strong>“前面的”<strong>+</strong>“将其自目录全部展开，分别将<strong>FTP、服务器、web管理工具、万维网服务</strong>目录下的所有选项进行勾选，最后点击”<strong>确定</strong>“即可。</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/742.png" alt="742"></p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA63.png" alt="QQ截63"></p>
<p>这样 iis功能就已经开启了！</p>
<p>然后在开始&gt;程序搜索框里输入“iis”，找到iis应用软件，并打开，下面就可以进行部署web api了。</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416170318.png" alt="QQ截图20160416170318"></p>
<p>右击网站&gt;添加网站</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/123.png" alt="123"></p>
<p>网站名字自己按照需要取，应用程序池选择默认就行，物理路径则是刚刚建立项目的物理地址（需要注意的是，物理地址的下一层是有bin文件的那一层，如下图，否则无法识别）</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/70936.png" alt="70936"></p>
<p>ip地址分配本机的ip地址，端口选择一个没有正在使用的端口，比如11112，点击确定。</p>
<p>这样就已经部署好了一个web api ，但是现在你还缺少一个访问权限，这时候就需要你手动添加允许权限，最简单的解决方法就是：右击之前建立的项目&gt;属性&gt;安全&gt;编辑&gt;添加，在输入对象名称来选择框中输入“everyone”，</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416172525.png" alt="QQ截图20160416172525"></p>
<p>点击检查名称&gt;确认</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416172721.png" alt="QQ截图20160416172721"></p>
<p>将修改，完全控制勾上</p>
<p>大功告成！</p>
<p><span style="color: #ff0000;">换台电脑，直接输入地址  <strong><a href="http://ip地址:端口号/api/LogInfo" target="_blank" rel="external">http://ip地址:端口号/api/LogInfo</a></strong></span></p>
<p>就可以直接看到在代码中的数据</p>
<p><img src="http://www.cuichongyang.cn/wp-content/uploads/2016/04/QQ%E6%88%AA%E5%9B%BE20160416172909.png" alt="QQ截图20160416172909"></p>
<p>最后解释一下地址：ip地址：端口号就是在添加网站的时候自己添加上的</p>
<p><a href="http://www.cuichongyang.cn/index.php/2016/04/16/web-api/" target="_blank" rel="external">http://www.cuichongyang.cn/index.php/2016/04/16/web-api/</a></p>
<p>&nbsp;</p>
<h3 id="错误分析："><a href="#错误分析：" class="headerlink" title="错误分析："></a>错误分析：</h3><p>1.您被禁止访问互联网</p>
<p>我第一次搭建的时候，换了无数个端口，总是提示 <span style="color: #ff0000;">您被禁止访问互联网<span style="color: #000000;">，经过排查，端口也没有被占用，防火墙也已经关闭（只有80端口可以访问），查了好长时间也没有解决这个问题。</span></span></p>
<p>思来想去，组可能是安全软件禁止出80以外的端口访问网络。经排查发现是“<span style="color: #ff0000;">净网大师</span>”导致，后来联系客服人员反映情况，才知道<span style="color: #ff0000;">Version&gt;3.5</span>的软件为了加大广告拦截效果关闭了电脑部分权限。</p>
<p><strong>解决方法</strong>：关闭安全类软件、关闭防火墙</p>
<p>2.“/”应用程序错误</p>
<p><pre><span style="color: red;">行 1:  &lt;%@ Application Codebehind=”Global.asax.cs” Inherits=”LuckyGitlabStatWebAPI.WebApiApplication” Language=”C#” %&gt;</span></pre><br><strong>解决方法</strong>：重新生成解决方案</p>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/web-api/">web api</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/">web</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web-api/">web api</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/搭建/">搭建</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-react-selectdialog" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/26/react-selectdialog/" class="article-date">
      <time datetime="2016-08-26T12:38:34.000Z" itemprop="datePublished">2016-08-26</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/26/react-selectdialog/">React Select&amp;Dialog</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>所用组件均来自material ui 所用实例代码为自己封装的一个新组件</p>
<p>首先安装meterial ui 组件 <a href="https://github.com/callemall/material-ui实现Dialog弹窗" target="_blank" rel="external">https://github.com/callemall/material-ui实现Dialog弹窗</a></p>
<p>其次安装select组件： <a href="https://github.com/JedWatson/react-select" target="_blank" rel="external">https://github.com/JedWatson/react-select</a>  实现select</p>
<p>dialog源代码及效果：<a href="https://github.com/JedWatson/react-select" target="_blank" rel="external">https://github.com/JedWatson/react-select</a></p>
<p>select源代码及效果：<a href="https://github.com/JedWatson/react-select#async-options-with-promises" target="_blank" rel="external">https://github.com/JedWatson/react-select#async-options-with-promises</a>     <a href="https://jedwatson.github.io/react-select/" target="_blank" rel="external">https://jedwatson.github.io/react-select/</a></p>
<p>&nbsp;</p>
<p>以下为封装代码</p>
<div>

<pre><code>效果：点击BUTTON按钮后，会弹出一个Dialog，Dialog中是muilt Select选择框`&lt;/pre&gt;
&lt;/div&gt;
&amp;nbsp;

[Select-Dialog](http://115.159.42.92/wp-content/uploads/2016/08/Select-Dialog.txt)

[![Dialog](http://www.ihongguang.cn/wp-content/uploads/2016/08/Dialog-300x196.png)](http://www.ihongguang.cn/wp-content/uploads/2016/08/Dialog.png)

css代码:[Select-Dialog](http://www.ihongguang.cn/wp-content/uploads/2016/08/Select-Dialog.txt)
&lt;div&gt;
&lt;pre&gt;`    import React from &apos;react&apos;;
    import Dialog from &apos;material-ui/lib/Dialog&apos;;
    import RaisedButton from &apos;material-ui/lib/raised-button&apos;;
    import Select from &apos;react-select&apos;;

    /*select选项*/
    const FLAVOURS = [
    { label: &apos;banana&apos;, value: &apos;banana&apos; },
    { label: &apos;apple&apos;, value: &apos;apple&apos; },
    { label: &apos;paire&apos;, value: &apos;paire&apos; },
    { label: &apos;ori&apos;, value: &apos;ori&apos; },
    { label: &apos;red&apos;, value: &apos;red&apos; },
    { label: &apos;yellow&apos;, value: &apos;yellow&apos; },
    { label: &apos;blue&apos;, value: &apos;blue&apos; },
    { label: &apos;pink&apos;, value: &apos;pink&apos; },
    { label: &apos;banana&apos;, value: &apos;banana&apos; },
    { label: &apos;apple&apos;, value: &apos;apple&apos; },
    { label: &apos;paire&apos;, value: &apos;paire&apos; },
    { label: &apos;ori&apos;, value: &apos;ori&apos; },
    { label: &apos;red&apos;, value: &apos;red&apos; },
    { label: &apos;yellow&apos;, value: &apos;yellow&apos; },
    { label: &apos;blue&apos;, value: &apos;blue&apos; },
    { label: &apos;pink&apos;, value: &apos;pink&apos; },
];
export default React.createClass({
        propTypes: {
            label: React.PropTypes.string,
        },
        getInitialState: function () {
            return {
                options: FLAVOURS, projectMembers: [],
                projectMonitor:[],
                newProject: false,
            };
        },
        handleOpenForProject :function (){
            this.setState({newProject:true});
        },
        handleClose :function (){
            /*if判断*/
            if(this.state.newProject==true)
            {
                this.setState({newProject:false});
                this.setState({projectMonitor:null});
                this.setState({projectMembers:null});
            }
        },
    handleSelectProjectMember :function(projectMembers) {
        this.setState({ projectMembers });
    },
    handleSelectProjectMonitor :function(projectMonitor) {
    this.setState({ projectMonitor });
},
    render() {
         const actions =
         [
             &amp;lt;RaisedButton label=&quot;Cancel&quot; primary={true} onClick={this.handleClose} /&amp;gt;,
             &amp;lt;RaisedButton label=&quot;Submit&quot; primary={true} onTouchTap={this.handleClose} /&amp;gt;,
         ];
        return (
         &amp;lt;div &amp;gt;{/*点击此按钮*/}
             &amp;lt;RaisedButton label=&quot;New Project&quot;primary={true}  onClick={this.handleOpenForProject} /&amp;gt;
             BUTTON
             &amp;lt;Dialog
             actions={actions}
             modal={false}
             open={this.state.newProject}
             onRequestClose={this.handleClose} &amp;gt;
             &amp;lt;div id=&quot;Dialog_Title&quot;&amp;gt;
                 &amp;lt;h2 id=&quot;title&quot;&amp;gt;Add a new project&amp;lt;/h2&amp;gt;&amp;lt;br/&amp;gt;
             &amp;lt;/div&amp;gt;

                 &amp;lt;div id=&quot;textField&quot;&amp;gt;
                     &amp;lt;div className=&quot;section&quot;&amp;gt;
                         &amp;lt;Select multi simpleValue value={this.state.projectMonitor}  options={this.state.options}  placeholder=&quot;Select Monitor&quot;  onChange={this.handleSelectProjectMonitor} /&amp;gt;
                     &amp;lt;/div&amp;gt;
                     &amp;lt;div className=&quot;section&quot;&amp;gt;
                       &amp;lt;Select multi simpleValue value={this.state.projectMembers} options={this.state.options} placeholder=&quot;Select Members&quot;  onChange={this.handleSelectProjectMember} /&amp;gt;
                     &amp;lt;/div&amp;gt;
             &amp;lt;/div&amp;gt;
         &amp;lt;/Dialog&amp;gt;
         &amp;lt;/div&amp;gt;
     );
}
})
</code></pre><p></p></div><br>&nbsp;<p></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dialog/">dialog</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/material-ui/">material ui</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/select/">select</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/弹窗/">弹窗</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/选择框/">选择框</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-C# 发邮件Email" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/22/C# 发邮件Email/" class="article-date">
      <time datetime="2016-08-22T11:00:52.000Z" itemprop="datePublished">2016-08-22</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/22/C# 发邮件Email/">C# 发邮件Email</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文借用QQ Smtp 服务器实现发送邮件功能。</p>
<p>近年来，由于QQ邮箱业务的部分转变，腾讯邮箱关闭了第三方发送邮件功能，因此需要手动开启Smtp功能</p>
<div>

<pre><code>登陆QQ邮箱--&amp;gt;设置--&amp;gt;账户--&amp;gt;POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务--&amp;gt;POP3/SMTP服务--&amp;gt;开启`&lt;/pre&gt;
&lt;/div&gt;
用手机发送短信验证后，会收到一个 &lt;span style=&quot;color: #ff0000;&quot;&gt;**授权码   **&lt;span style=&quot;color: #000000;&quot;&gt; ，用第三方发送邮件时，用此授权码代替密码使用&lt;/span&gt;&lt;/span&gt;

&amp;nbsp;

代码如下：
&lt;div&gt;
&lt;pre&gt;`    /// &amp;lt;summary&amp;gt;
    /// 发送邮件
    /// &amp;lt;/summary&amp;gt;
    /// &amp;lt;param name=&quot;email&quot;&amp;gt;收件人邮箱&amp;lt;/param&amp;gt;
    /// &amp;lt;param name=&quot;message&quot;&amp;gt;邮件内容&amp;lt;/param&amp;gt;
    /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
    public string SecdEmail(string email,string message)
    {
        try
        {
            SmtpClient smtpClient = new SmtpClient();

            smtpClient.EnableSsl = true;

            smtpClient.UseDefaultCredentials = true;

            smtpClient.DeliveryMethod = SmtpDeliveryMethod.Network;//指定电子邮件发送方式        

            smtpClient.Host = &quot;smtp.qq.com&quot;;//指定SMTP服务器 126邮箱为smtp.126.com       

            smtpClient.Credentials = new System.Net.NetworkCredential(&quot;abc@qq.com&quot;, &quot;abcde&quot;);//用户名和授权码

            // 发送邮件设置        

            MailMessage mailMessage = new MailMessage(&quot;abc@qq.com&quot;, email); // 发送人和收件人        

            mailMessage.Subject = &quot;密码找回&quot;;//主题  邮件内容      

            mailMessage.Body = message;

            mailMessage.BodyEncoding = Encoding.UTF8;//正文编码        

            mailMessage.IsBodyHtml = true;//设置为HTML格式        

            mailMessage.Priority = MailPriority.High;//优先级

            smtpClient.Send(mailMessage);

            sendInfo=&quot;发送成功&quot;;
        }
        catch (Exception e)
        {
            sendInfo = &quot;发送失败&quot;;
        }
        return sendInfo;
    }`&lt;/pre&gt;
&lt;/div&gt;
&amp;nbsp;

常用服务器 转自[http://www.360doc.com/content/11/0916/20/7731628_148819478.shtml](http://www.360doc.com/content/11/0916/20/7731628_148819478.shtml)
&lt;div&gt;
&lt;pre&gt;`【网易 163、126免费邮箱目前不直接开放smtp、pop3服务。有需要的用户可通过购买随身邮或邮箱伴侣及加入会员中心获得。从2006年11月16日起新注册用户，将无法使用POP客户端功能，之前注册用户不受影响。】 

网易163邮箱

POP3：pop.163.com      SMTP：smtp.163.com      SMTP端口号：25 

网易vip.163邮箱

POP3：pop.vip.163.com       SMTP：smtp.vip.163.com     SMTP端口号：25  

网易126邮箱

POP3：pop.126.com      SMTP：smtp.126.com      SMTP端口号：25 

网易188邮箱

POP3：pop.188.com      SMTP：smtp.188.com      SMTP端口号：25 

网易yeah.net邮箱

POP3：pop.yeah.net     SMTP：smtp.yeah.net      SMTP端口号：25 

网易netease.com邮箱

POP3：pop.netease.com     SMTP：smtp.netease.com     SMTP端口号：25

【新浪 需登陆web邮箱，设置-账户，开通smtp/pop服务，如是VIP，请务必勾选“smtp服务器要求身份验证”一项】 

新浪免费邮箱

POP3：pop.sina.com    SMTP：smtp.sina.com      SMTP端口号：25

新浪VIP邮箱

POP3：pop3.vip.sina.com    SMTP：smtp.vip.sina.com    SMTP端口号：25

新浪企业邮箱

POP3：pop.sina.com     SMTP：smtp.sina.com       SMTP端口号：25

【yahoo在foxmail 4.1以上的版本设置如下：( outlook 不行)需订制“来电提醒”服务，不定制此项服务，将无法使用POP服务。】

雅虎邮箱

POP3：pop.mail.yahoo.cn   SMTP：smtp.mail.yahoo.cn   SMTP端口号：25

【搜狐 TOM 规则较多，容易被封账号】

搜狐邮箱

POP3：pop3.sohu.com        MTP：smtp.sohu.com      SMTP端口号：25

 TOM邮箱

POP3：pop.tom.com    SMTP：smtp.tom.com    SMTP端口号：25

【谷歌 需要勾选启用SSL，465端口好像服务器端被封掉了】

Gmail邮箱

POP3：pop.gmail.com    SMTP：smtp.gmail.com   SMTP端口号：587 或 25

【需登陆web邮箱，设置-帐户，开通smtp/pop服务；设置完成后，请务必勾选“smtp服务器要求身份验证”一项。邮箱开通15天后才可开通smtp服务。】

QQ邮箱

POP3：pop.qq.com    SMTP：smtp.qq.com      SMTP端口号：25

263邮箱

域名：263.net   POP3：263.net   SMTP：smtp.263.net   SMTP端口号：25

域名：x263.net

POP3：pop.x263.net    SMTP：smtp.x263.net    SMTP端口号：25

域名：263.net.cn

POP3：263.net.cn      SMTP：263.net.cn      SMTP端口号：25

域名：炫我型

POP3：pop.263xmail.com    SMTP：smtp.263xmail.com    SMTP端口号：25

21CN  免费邮箱

     POP3：pop.21cn.com   SMTP：smtp.21cn.com  

     IMAP：imap.21cn.com  SMTP端口号：25

21CN  经济邮邮箱

POP3：pop.21cn.com    SMTP：smtp.21cn.com    SMTP端口号：25

21CN  商务邮邮箱

POP3：pop.21cn.net    SMTP：smtp.21cn.net    SMTP端口号：25

21CN  快感邮箱

POP3：vip.21cn.com    SMTP：vip.21cn.com   SMTP端口号：25

21CN  Y邮箱

POP3：pop.y.vip.21cn.com   SMTP：smtp.y.vip.21cn.com   SMTP端口号：25

中华网任我邮邮箱

POP3：rwpop.china.com   SMTP：rwsmtp.china.com   SMTP端口号：25 

中华网时尚、商务邮箱

POP3：pop.china.com    SMTP：smtp.china.com      SMTP端口号：25
</code></pre><p></p></div><br>&nbsp;<p></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Email/">Email</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/qq/">qq</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/邮件/">邮件</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-C# string 详解" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/22/C# string 详解/" class="article-date">
      <time datetime="2016-08-22T09:59:09.000Z" itemprop="datePublished">2016-08-22</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/22/C# string 详解/">C# string 详解</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <div class="title"><br><br># C#几种截取字符串的方法小结<br><br>&nbsp;<br><br></div><br><div class="art_desc mt10"><br><div id="art_demo">C#几种截取字符串的方法小结，需要的朋友可以参考一下</div><br></div><br><div class="lbd clearfix"></div><br><div class="lbd clearfix"></div><br><div id="content"><br><br>1.根据单个分隔字符用split截取<br><br>例如<br><div class="codetitle"><a id="copybut84510" class="copybut"></a><u>复制代码</u>代码如下:</div><br><div id="code84510" class="codebody"><br><div><br><br>    string st=”GT123<em>1”;string[] sArray=st.split(“</em>“);<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    即可得到
    &lt;div&gt;
    &lt;pre&gt;</code>sArray[0]=”GT123”,sArray[1]=”1”;    <code>&lt;/pre&gt;
    &lt;/div&gt;
    &amp;nbsp;

    2.利用多个字符来分隔字符串

    例如
    &lt;div class=&quot;codetitle&quot;&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code76224&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen<em>123”;<br>    string[] sArray = str.Split(new char[2] { ‘j’, ‘</em>‘ });<br>    foreach(string e in sArray)<br>    {<br>        Console.WriteLine(e);<br>    }<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    得到
    &lt;div&gt;
    &lt;pre&gt;</code>sArray[0]=”GTAZB”,sArray[1]=”Jiang”,sArray[2]=”Ben”,sArray[3]=”123”;<code>&lt;/pre&gt;
    &lt;/div&gt;
    3根据字符串或字符串组来截取字符串

    例如
    &lt;div class=&quot;codetitle&quot;&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code54198&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen<em>123”;<br>    string[] sArray = str.Split( new string[]{“Ji”,”jB”}, StringSplitOptions.RemoveEmptyEntries);<br>    foreach(string e in sArray)<br>    {<br>    Console.WriteLine(e);<br>    }<br>    得到sArray[0]=”GTAZB</em>“,sArray[1]=”ang”,sArray[2]=”en_123”;<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &amp;nbsp;

    4提取字符串中的第i个字符开始的长度为j的字符串；

    例如
    &lt;div class=&quot;codetitle&quot;&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code93719&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    int start=3,length=8;<br>    Console.WriteLine(str.Substring(start-1, length));<br>    输出得到AZB_Jian。<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &amp;nbsp;

    5提取字符串中右数长度为i的字符串

    &lt;a id=&quot;copybut75156&quot; class=&quot;copybut&quot;&gt;&lt;/a&gt;代码如下:
    &lt;div id=&quot;code75156&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    string tSt;<br>    int i=5;<br>    tSt = str.Substring(str.Length - i);<br>    Console.WriteLine(tSt);<br>    输出n_123;<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    6替换字符串中的特定字符串

    &lt;a id=&quot;copybut57402&quot; class=&quot;copybut&quot;&gt;&lt;/a&gt;代码如下:
    &lt;div id=&quot;code57402&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    string tSt;<br>    tSt = str.Replace(“123”,”321”);<br>    Console.WriteLine(tSt);<br>    输出GTAZB_JiangjBen_321<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &amp;nbsp;

    7删除字符串中的特定字符串Jiangj
    &lt;div class=&quot;codetitle&quot;&gt;&lt;a id=&quot;copybut84105&quot; class=&quot;copybut&quot;&gt;&lt;/a&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code84105&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    string tSt;<br>    tSt = str.Replace(“Jiangj”,””);<br>    Console.WriteLine(tSt);<br>    输出GTAZB_Ben_123<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;codebody&quot;&gt;&lt;/div&gt;
    8删除指定位置(第i个)的指定长度（length）的字符串
    &lt;div class=&quot;codetitle&quot;&gt;&lt;a id=&quot;copybut3995&quot; class=&quot;copybut&quot;&gt;&lt;/a&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code3995&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    int i=5,length=8;str=str.remove(i,length);<br>    console.writeline(str);<br>    输出GTAZBen_123。<br><br></div><br></div><br></div><br><div class="art_xg"><br><br>#### 您可能感兴趣的文章:<br><br><ul><br>     <li><a title="asp.net(c#)网页跳转七种方法小结" href="http://www.jb51.net/article/21046.htm" target="_blank">asp.net(c#)网页跳转七种方法小结</a></li><br>     <li><a title="C# DataGridView添加新行的2个方法" href="http://www.jb51.net/article/34469.htm" target="_blank">C# DataGridView添加新行的2个方法</a></li><br>     <li><a title="C#入门教程之ListBox控件使用方法" href="http://www.jb51.net/article/23069.htm" target="_blank">C#入门教程之ListBox控件使用方法</a></li><br>     <li><a title="C#连接MySql数据库的方法" href="http://www.jb51.net/article/41920.htm" target="_blank">C#连接MySql数据库的方法</a></li><br>     <li><a title="C#中隐式运行CMD命令行窗口的方法" href="http://www.jb51.net/article/26993.htm" target="_blank">C#中隐式运行CMD命令行窗口的方法</a></li><br>     <li><a title="C#读写文件的方法汇总" href="http://www.jb51.net/article/34936.htm" target="_blank">C#读写文件的方法汇总</a></li><br>     <li><a title="c#的dllimport使用方法详解" href="http://www.jb51.net/article/46384.htm" target="_blank">c#的dllimport使用方法详解</a></li><br>     <li><a title="C# 小数位数保留的方法集锦" href="http://www.jb51.net/article/17010.htm" target="_blank">C# 小数位数保留的方法集锦</a></li><br>     <li><a title="C#中使用split分割字符串的几种方法小结" href="http://www.jb51.net/article/34535.htm" target="_blank">C#中使用split分割字符串的几种方法小结</a></li><br>     <li><a title="C# 常用公共方法" href="http://www.jb51.net/article/89234.htm" target="_blank">C# 常用公共方法</a></li><br></ul><br><br>全文转自脚本之家<a href="http://www.jb51.net/article/35376.htm" target="_blank" rel="external">http://www.jb51.net/article/35376.htm</a></div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/C/">C#</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/string/">string</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/字符串/">字符串</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/截取/">截取</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React State随笔" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/22/React State随笔/" class="article-date">
      <time datetime="2016-08-22T04:47:17.000Z" itemprop="datePublished">2016-08-22</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/22/React State随笔/">React State随笔</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>state在React以及React-Native的作用是 <strong>变量传值，</strong>主要的目的就是控制组件的状态和内容显示</p>
<p>第一步：初始化组建状态</p>
<pre><code>getInitialState () {
   return {
      disabled: false,
      crazy: false,
      options: FLAVOURS,
      value: [],
   };
},
</code></pre><p>第二步：定义方法，用于操作state变量</p>
<pre><code>toggleChocolate (e) 
{
    let crazy = e.target.checked;
    this.setState({
        crazy: crazy,
        options: crazy ? WHY_WOULD_YOU : FLAVOURS,
    });
},
</code></pre><p>第三步：在组件中调用</p>
<pre><code>&lt;Select multi simpleValue disabled={this.state.disabled} value={this.state.value} placeholder=&quot;Select your favourite(s)&quot; options={this.state.options} onChange={this.toggleChocolate} &gt;
</code></pre><p>这些是我目前所用到的一点state知识，仅仅是state的冰山一角，以后如有用到会继续更新</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/React/">React</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sate/">sate</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-D3 Axis属性" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/17/React-D3 Axis属性/" class="article-date">
      <time datetime="2016-08-17T12:54:22.000Z" itemprop="datePublished">2016-08-17</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/17/React-D3 Axis属性/">React-D3 Axis属性</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><script src="http://s.haiyunx.com/SSP/33895.js" type="text/javascript"></script><br>不会看Github里的demo,真是啪啪啪打脸</p>
<p>链接：<a href="https://github.com/codesuki/react-d3-components#tooltips" target="_blank" rel="external">https://github.com/codesuki/react-d3-components#tooltips</a></p>
<p>以下是默认属性</p>
<div>

<pre><code>{
    tickArguments: [10],/*x,y轴默认至少显示10个数据*/
    tickValues: null,
    tickFormat: x =&amp;gt; { return x; },
    innerTickSize: 6,//坐标标记的长度
    tickPadding: 3,//坐标与轴的距离
    outerTickSize: 6,
    className: &quot;axis&quot;,
    zero: 0,
    label: &quot;&quot;/*轴的含义*/
}
</code></pre><p></p></div><br>&nbsp;<p></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Axis属性/">Axis属性</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-D3-Axis/">React-D3 Axis</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2017 谢红光
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 6;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>