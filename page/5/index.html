<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="谢红光" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="茶壶盖">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="茶壶盖">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="茶壶盖">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="茶壶盖" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/dog.jpg">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>茶壶盖</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/dog.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">谢红光</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/xiehongguang0228@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/Alvis888" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa StackOverflow" href="https://stackoverflow.com/users/6244981/xiehongguang" title="StackOverflow"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NET/">.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/360云/">360云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AZURE/">AZURE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Axis属性/">Axis属性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bt/">Bt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Build-Event/">Build Event</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-写入文件/">C#写入文件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CURD/">CURD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESLint/">ESLint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Email/">Email</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ExecuteNonQuery/">ExecuteNonQuery ()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/">Json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LUIS/">LUIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-D3-Axis/">React-D3 Axis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL-server/">SQL server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Socket/">Socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS/">VS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bat/">bat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bot/">bot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bot-framework/">bot framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c-c/">c/c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/case语句/">case语句</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/date/">date()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dialog/">dialog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fetch/">fetch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fetch链接数据库/">fetch链接数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hook/">hook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/material-ui/">material ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microsoft-bot/">microsoft bot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/office/">office</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qq/">qq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rn/">rn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sate/">sate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/select/">select</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/server-2008/">server 2008</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/service/">service</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slack/">slack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlserver/">sqlserver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql日期加减/">sql日期加减</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql日期格式化/">sql日期格式化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/static/">static</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/string/">string</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thinkphp/">thinkphp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/time/">time()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unicode/">unicode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-api/">web api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webhook/">webhook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webhook，Gitlab/">webhook，Gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-service/">windows service</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/word/">word</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wpf/">wpf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/中文/">中文</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内存管理/">内存管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/删除/">删除</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图片库/">图片库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/存储过程/">存储过程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实体形式/">实体形式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/弹窗/">弹窗</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/截取/">截取</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搭建/">搭建</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库，AZURE/">数据库，AZURE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/时间戳/">时间戳</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电影/">电影</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/登陆页面/">登陆页面</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/种子/">种子</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/空白页/">空白页</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网盘搜索/">网盘搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网站/">网站</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/美剧/">美剧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/选择框/">选择框</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邮件/">邮件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/链接/">链接</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">谢红光</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/dog.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">谢红光</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/xiehongguang0228@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/Alvis888" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa StackOverflow" target="_blank" href="https://stackoverflow.com/users/6244981/xiehongguang" title="StackOverflow"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-NET 发邮件Email" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/22/NET 发邮件Email/" class="article-date">
      <time datetime="2016-08-22T11:00:52.000Z" itemprop="datePublished">2016-08-22</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/22/NET 发邮件Email/">.NET 发邮件Email</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文借用QQ Smtp 服务器实现发送邮件功能。</p>
<p>近年来，由于QQ邮箱业务的部分转变，腾讯邮箱关闭了第三方发送邮件功能，因此需要手动开启Smtp功能</p>
<div>

<pre><code>登陆QQ邮箱--&amp;gt;设置--&amp;gt;账户--&amp;gt;POP3/IMAP/SMTP/Exchange/CardDAV/CalDAV服务--&amp;gt;POP3/SMTP服务--&amp;gt;开启`&lt;/pre&gt;
&lt;/div&gt;
用手机发送短信验证后，会收到一个 &lt;span style=&quot;color: #ff0000;&quot;&gt;**授权码   **&lt;span style=&quot;color: #000000;&quot;&gt; ，用第三方发送邮件时，用此授权码代替密码使用&lt;/span&gt;&lt;/span&gt;

&amp;nbsp;

代码如下：
&lt;div&gt;
&lt;pre&gt;`    /// &amp;lt;summary&amp;gt;
    /// 发送邮件
    /// &amp;lt;/summary&amp;gt;
    /// &amp;lt;param name=&quot;email&quot;&amp;gt;收件人邮箱&amp;lt;/param&amp;gt;
    /// &amp;lt;param name=&quot;message&quot;&amp;gt;邮件内容&amp;lt;/param&amp;gt;
    /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;
    public string SecdEmail(string email,string message)
    {
        try
        {
            SmtpClient smtpClient = new SmtpClient();

            smtpClient.EnableSsl = true;

            smtpClient.UseDefaultCredentials = true;

            smtpClient.DeliveryMethod = SmtpDeliveryMethod.Network;//指定电子邮件发送方式        

            smtpClient.Host = &quot;smtp.qq.com&quot;;//指定SMTP服务器 126邮箱为smtp.126.com       

            smtpClient.Credentials = new System.Net.NetworkCredential(&quot;abc@qq.com&quot;, &quot;abcde&quot;);//用户名和授权码

            // 发送邮件设置        

            MailMessage mailMessage = new MailMessage(&quot;abc@qq.com&quot;, email); // 发送人和收件人        

            mailMessage.Subject = &quot;密码找回&quot;;//主题  邮件内容      

            mailMessage.Body = message;

            mailMessage.BodyEncoding = Encoding.UTF8;//正文编码        

            mailMessage.IsBodyHtml = true;//设置为HTML格式        

            mailMessage.Priority = MailPriority.High;//优先级

            smtpClient.Send(mailMessage);

            sendInfo=&quot;发送成功&quot;;
        }
        catch (Exception e)
        {
            sendInfo = &quot;发送失败&quot;;
        }
        return sendInfo;
    }`&lt;/pre&gt;
&lt;/div&gt;
&amp;nbsp;

常用服务器 转自[http://www.360doc.com/content/11/0916/20/7731628_148819478.shtml](http://www.360doc.com/content/11/0916/20/7731628_148819478.shtml)
&lt;div&gt;
&lt;pre&gt;`【网易 163、126免费邮箱目前不直接开放smtp、pop3服务。有需要的用户可通过购买随身邮或邮箱伴侣及加入会员中心获得。从2006年11月16日起新注册用户，将无法使用POP客户端功能，之前注册用户不受影响。】 

网易163邮箱

POP3：pop.163.com      SMTP：smtp.163.com      SMTP端口号：25 

网易vip.163邮箱

POP3：pop.vip.163.com       SMTP：smtp.vip.163.com     SMTP端口号：25  

网易126邮箱

POP3：pop.126.com      SMTP：smtp.126.com      SMTP端口号：25 

网易188邮箱

POP3：pop.188.com      SMTP：smtp.188.com      SMTP端口号：25 

网易yeah.net邮箱

POP3：pop.yeah.net     SMTP：smtp.yeah.net      SMTP端口号：25 

网易netease.com邮箱

POP3：pop.netease.com     SMTP：smtp.netease.com     SMTP端口号：25

【新浪 需登陆web邮箱，设置-账户，开通smtp/pop服务，如是VIP，请务必勾选“smtp服务器要求身份验证”一项】 

新浪免费邮箱

POP3：pop.sina.com    SMTP：smtp.sina.com      SMTP端口号：25

新浪VIP邮箱

POP3：pop3.vip.sina.com    SMTP：smtp.vip.sina.com    SMTP端口号：25

新浪企业邮箱

POP3：pop.sina.com     SMTP：smtp.sina.com       SMTP端口号：25

【yahoo在foxmail 4.1以上的版本设置如下：( outlook 不行)需订制“来电提醒”服务，不定制此项服务，将无法使用POP服务。】

雅虎邮箱

POP3：pop.mail.yahoo.cn   SMTP：smtp.mail.yahoo.cn   SMTP端口号：25

【搜狐 TOM 规则较多，容易被封账号】

搜狐邮箱

POP3：pop3.sohu.com        MTP：smtp.sohu.com      SMTP端口号：25

 TOM邮箱

POP3：pop.tom.com    SMTP：smtp.tom.com    SMTP端口号：25

【谷歌 需要勾选启用SSL，465端口好像服务器端被封掉了】

Gmail邮箱

POP3：pop.gmail.com    SMTP：smtp.gmail.com   SMTP端口号：587 或 25

【需登陆web邮箱，设置-帐户，开通smtp/pop服务；设置完成后，请务必勾选“smtp服务器要求身份验证”一项。邮箱开通15天后才可开通smtp服务。】

QQ邮箱

POP3：pop.qq.com    SMTP：smtp.qq.com      SMTP端口号：25

263邮箱

域名：263.net   POP3：263.net   SMTP：smtp.263.net   SMTP端口号：25

域名：x263.net

POP3：pop.x263.net    SMTP：smtp.x263.net    SMTP端口号：25

域名：263.net.cn

POP3：263.net.cn      SMTP：263.net.cn      SMTP端口号：25

域名：炫我型

POP3：pop.263xmail.com    SMTP：smtp.263xmail.com    SMTP端口号：25

21CN  免费邮箱

     POP3：pop.21cn.com   SMTP：smtp.21cn.com  

     IMAP：imap.21cn.com  SMTP端口号：25

21CN  经济邮邮箱

POP3：pop.21cn.com    SMTP：smtp.21cn.com    SMTP端口号：25

21CN  商务邮邮箱

POP3：pop.21cn.net    SMTP：smtp.21cn.net    SMTP端口号：25

21CN  快感邮箱

POP3：vip.21cn.com    SMTP：vip.21cn.com   SMTP端口号：25

21CN  Y邮箱

POP3：pop.y.vip.21cn.com   SMTP：smtp.y.vip.21cn.com   SMTP端口号：25

中华网任我邮邮箱

POP3：rwpop.china.com   SMTP：rwsmtp.china.com   SMTP端口号：25 

中华网时尚、商务邮箱

POP3：pop.china.com    SMTP：smtp.china.com      SMTP端口号：25
</code></pre><p></p></div><br>&nbsp;<p></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Email/">Email</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/qq/">qq</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/邮件/">邮件</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-NET string 详解" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/22/NET string 详解/" class="article-date">
      <time datetime="2016-08-22T09:59:09.000Z" itemprop="datePublished">2016-08-22</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/22/NET string 详解/">.NET string 详解</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <div class="title"><br><br># C#几种截取字符串的方法小结<br><br>&nbsp;<br><br></div><br><div class="art_desc mt10"><br><div id="art_demo">C#几种截取字符串的方法小结，需要的朋友可以参考一下</div><br></div><br><div class="lbd clearfix"></div><br><div class="lbd clearfix"></div><br><div id="content"><br><br>1.根据单个分隔字符用split截取<br><br>例如<br><div class="codetitle"><a id="copybut84510" class="copybut"></a><u>复制代码</u>代码如下:</div><br><div id="code84510" class="codebody"><br><div><br><br>    string st=”GT123<em>1”;string[] sArray=st.split(“</em>“);<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    即可得到
    &lt;div&gt;
    &lt;pre&gt;</code>sArray[0]=”GT123”,sArray[1]=”1”;    <code>&lt;/pre&gt;
    &lt;/div&gt;
    &amp;nbsp;

    2.利用多个字符来分隔字符串

    例如
    &lt;div class=&quot;codetitle&quot;&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code76224&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen<em>123”;<br>    string[] sArray = str.Split(new char[2] { ‘j’, ‘</em>‘ });<br>    foreach(string e in sArray)<br>    {<br>        Console.WriteLine(e);<br>    }<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    得到
    &lt;div&gt;
    &lt;pre&gt;</code>sArray[0]=”GTAZB”,sArray[1]=”Jiang”,sArray[2]=”Ben”,sArray[3]=”123”;<code>&lt;/pre&gt;
    &lt;/div&gt;
    3根据字符串或字符串组来截取字符串

    例如
    &lt;div class=&quot;codetitle&quot;&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code54198&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen<em>123”;<br>    string[] sArray = str.Split( new string[]{“Ji”,”jB”}, StringSplitOptions.RemoveEmptyEntries);<br>    foreach(string e in sArray)<br>    {<br>    Console.WriteLine(e);<br>    }<br>    得到sArray[0]=”GTAZB</em>“,sArray[1]=”ang”,sArray[2]=”en_123”;<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &amp;nbsp;

    4提取字符串中的第i个字符开始的长度为j的字符串；

    例如
    &lt;div class=&quot;codetitle&quot;&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code93719&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    int start=3,length=8;<br>    Console.WriteLine(str.Substring(start-1, length));<br>    输出得到AZB_Jian。<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &amp;nbsp;

    5提取字符串中右数长度为i的字符串

    &lt;a id=&quot;copybut75156&quot; class=&quot;copybut&quot;&gt;&lt;/a&gt;代码如下:
    &lt;div id=&quot;code75156&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    string tSt;<br>    int i=5;<br>    tSt = str.Substring(str.Length - i);<br>    Console.WriteLine(tSt);<br>    输出n_123;<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    6替换字符串中的特定字符串

    &lt;a id=&quot;copybut57402&quot; class=&quot;copybut&quot;&gt;&lt;/a&gt;代码如下:
    &lt;div id=&quot;code57402&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    string tSt;<br>    tSt = str.Replace(“123”,”321”);<br>    Console.WriteLine(tSt);<br>    输出GTAZB_JiangjBen_321<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &amp;nbsp;

    7删除字符串中的特定字符串Jiangj
    &lt;div class=&quot;codetitle&quot;&gt;&lt;a id=&quot;copybut84105&quot; class=&quot;copybut&quot;&gt;&lt;/a&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code84105&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    string tSt;<br>    tSt = str.Replace(“Jiangj”,””);<br>    Console.WriteLine(tSt);<br>    输出GTAZB_Ben_123<code>&lt;/pre&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;codebody&quot;&gt;&lt;/div&gt;
    8删除指定位置(第i个)的指定长度（length）的字符串
    &lt;div class=&quot;codetitle&quot;&gt;&lt;a id=&quot;copybut3995&quot; class=&quot;copybut&quot;&gt;&lt;/a&gt;代码如下:&lt;/div&gt;
    &lt;div id=&quot;code3995&quot; class=&quot;codebody&quot;&gt;
    &lt;div&gt;
    &lt;pre&gt;</code>string str = “GTAZB_JiangjBen_123”;<br>    int i=5,length=8;str=str.remove(i,length);<br>    console.writeline(str);<br>    输出GTAZBen_123。<br><br></div><br></div><br></div><br><div class="art_xg"><br><br>#### 您可能感兴趣的文章:<br><br><ul><br>     <li><a title="asp.net(c#)网页跳转七种方法小结" href="http://www.jb51.net/article/21046.htm" target="_blank">asp.net(c#)网页跳转七种方法小结</a></li><br>     <li><a title="C# DataGridView添加新行的2个方法" href="http://www.jb51.net/article/34469.htm" target="_blank">C# DataGridView添加新行的2个方法</a></li><br>     <li><a title="C#入门教程之ListBox控件使用方法" href="http://www.jb51.net/article/23069.htm" target="_blank">C#入门教程之ListBox控件使用方法</a></li><br>     <li><a title="C#连接MySql数据库的方法" href="http://www.jb51.net/article/41920.htm" target="_blank">C#连接MySql数据库的方法</a></li><br>     <li><a title="C#中隐式运行CMD命令行窗口的方法" href="http://www.jb51.net/article/26993.htm" target="_blank">C#中隐式运行CMD命令行窗口的方法</a></li><br>     <li><a title="C#读写文件的方法汇总" href="http://www.jb51.net/article/34936.htm" target="_blank">C#读写文件的方法汇总</a></li><br>     <li><a title="c#的dllimport使用方法详解" href="http://www.jb51.net/article/46384.htm" target="_blank">c#的dllimport使用方法详解</a></li><br>     <li><a title="C# 小数位数保留的方法集锦" href="http://www.jb51.net/article/17010.htm" target="_blank">C# 小数位数保留的方法集锦</a></li><br>     <li><a title="C#中使用split分割字符串的几种方法小结" href="http://www.jb51.net/article/34535.htm" target="_blank">C#中使用split分割字符串的几种方法小结</a></li><br>     <li><a title="C# 常用公共方法" href="http://www.jb51.net/article/89234.htm" target="_blank">C# 常用公共方法</a></li><br></ul><br><br>全文转自脚本之家<a href="http://www.jb51.net/article/35376.htm" target="_blank" rel="external">http://www.jb51.net/article/35376.htm</a></div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/C/">C#</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/string/">string</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/字符串/">字符串</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/截取/">截取</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React State随笔" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/22/React State随笔/" class="article-date">
      <time datetime="2016-08-22T04:47:17.000Z" itemprop="datePublished">2016-08-22</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/22/React State随笔/">React State随笔</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>state在React以及React-Native的作用是 <strong>变量传值，</strong>主要的目的就是控制组件的状态和内容显示</p>
<p>第一步：初始化组建状态</p>
<pre><code>getInitialState () {
   return {
      disabled: false,
      crazy: false,
      options: FLAVOURS,
      value: [],
   };
},
</code></pre><p>第二步：定义方法，用于操作state变量</p>
<pre><code>toggleChocolate (e) 
{
    let crazy = e.target.checked;
    this.setState({
        crazy: crazy,
        options: crazy ? WHY_WOULD_YOU : FLAVOURS,
    });
},
</code></pre><p>第三步：在组件中调用</p>
<pre><code>&lt;Select multi simpleValue disabled={this.state.disabled} value={this.state.value} placeholder=&quot;Select your favourite(s)&quot; options={this.state.options} onChange={this.toggleChocolate} &gt;
</code></pre><p>这些是我目前所用到的一点state知识，仅仅是state的冰山一角，以后如有用到会继续更新</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/React/">React</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sate/">sate</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-D3 Axis属性" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/17/React-D3 Axis属性/" class="article-date">
      <time datetime="2016-08-17T12:54:22.000Z" itemprop="datePublished">2016-08-17</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/17/React-D3 Axis属性/">React-D3 Axis属性</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><script src="http://s.haiyunx.com/SSP/33895.js" type="text/javascript"></script><br>不会看Github里的demo,真是啪啪啪打脸</p>
<p>链接：<a href="https://github.com/codesuki/react-d3-components#tooltips" target="_blank" rel="external">https://github.com/codesuki/react-d3-components#tooltips</a></p>
<p>以下是默认属性</p>
<div>

<pre><code>{
    tickArguments: [10],/*x,y轴默认至少显示10个数据*/
    tickValues: null,
    tickFormat: x =&amp;gt; { return x; },
    innerTickSize: 6,//坐标标记的长度
    tickPadding: 3,//坐标与轴的距离
    outerTickSize: 6,
    className: &quot;axis&quot;,
    zero: 0,
    label: &quot;&quot;/*轴的含义*/
}
</code></pre><p></p></div><br>&nbsp;<p></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Axis属性/">Axis属性</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-D3-Axis/">React-D3 Axis</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Gitlab WebHook本地获取json数据（含有BuildEvents字段）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/12/Gitlab WebHook本地获取json数据（含有BuildEvents字段）/" class="article-date">
      <time datetime="2016-08-12T12:48:58.000Z" itemprop="datePublished">2016-08-12</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/12/Gitlab WebHook本地获取json数据（含有BuildEvents字段）/">Gitlab WebHook本地获取json数据（含有BuildEvents字段）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>当Gitlab中有动作触发时，就会触动 WebHook（钩子），Webhook也会随之返回一个Json数据， 可以根据这个json数据来实时监控项目工程，在Gitlab的Help中给出了很多字段，但唯独没有显性给出BuildEvents字段：</p>
<pre><code>{

    “brfore_sha”:””,

    “build_allow_failure”:””,

    “build_duration”:””,

    “build_finished_at”:””,

    “build_id”:””,

    “build_name”:””,

    “build_stage”:””,

    “build_started_at”:””,

    “build_status”:””,

    “commit”:

    {

        “author_email”:””,

        “author_name”:””,

        “duration”:””,

        “finished_at”:””,

        “id”:””,

        “message”:””,

        “sha”:””,

        “started_at”:””,

        “status”:””

    },

    “object_kind”:””,

    “project_id”:””,

    “project_name”:””,

    “ref”:”master”,

    “repository”:

    {

        “description”:””,

        “git_http_url”:””,

        “git_ssh_url”:””,

        “homepage”:””,

        “name”:””,

        “url”:””,

        “visibility_level”:””

    },

    “sha”:””,

    “tag”:””,

    “user”:

        {

            “email”:””,

            “id”:””,

            “name”:””

        }

}
</code></pre><p>但只有样例字段还是远远不够的，因为某些字段的含义我们很难理解（build中before_sha表示version，），此时就需要输出自己的代码build返回的json数据。在help中也有相应的方法代码，在此翻译一下，供以后使用，毕竟“好记性不如烂笔头”</p>
<p>S1 . 配置Ruby环境（安装Ruby软件时，点击第二个复选框（自动配置PATH））</p>
<p>S2. 建文本文件，粘贴代码，保存为<span style="color: #ff0000;">print_http_body.rb</span></p>
<pre><code>require &apos;webrick&apos;

server = WEBrick::HTTPServer.new(:Port =&gt; ARGV.first)
server.mount_proc &apos;/&apos; do |req, res|
  puts req.body
end

trap &apos;INT&apos; do
  server.shutdown
end
server.start
</code></pre><p>S3. 在文件所在目录下打开Cmd， 编辑 ruby print_http_body.rb 8000（8000是未被占用的端口）</p>
<p>S4. 在webhook receiver中添加Event，<a href="http://my.host:8000/" target="_blank" rel="external">http://my.host:8000/</a> （my.host表示IP）</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>完成以上4步后，触发相关的时间，就会在Cmd页面中输出对应的Json数据。</p>
<p>例如，如果创建的是IssueEvent，则，创建新的Issue或对已有的Issue操作时，就会在Cmd页面输出Json数据</p>
<p><strong>注：点击<span style="color: #ff0000;">Test</span>按钮，返回的均是Push的json数据，所以在测试API时出现错误很正常</strong>（保证代码正确的前提下，修改数据实体类的字段即可）</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/web-api/">web api</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Build-Event/">Build Event</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Json/">Json</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webhook，Gitlab/">webhook，Gitlab</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-NET 写入文件" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/10/NET 写入文件/" class="article-date">
      <time datetime="2016-08-10T12:58:08.000Z" itemprop="datePublished">2016-08-10</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/10/NET 写入文件/">.NET 写入文件</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>有些 项目代码无法在本地调试（比如web hook），所以就很难迅速找到错误点。这个时候就需要在运行代码将异常信息再本地以文件的形式输出。</p>
<pre><code>try
{
    /*project code*/
}
catch(Exception e)
{
     FileStream fs1 = new FileStream(&quot;c:\\test\\log.txt&quot;, FileMode.Append, FileAccess.Write);   
     StreamWriter sw1 = new StreamWriter(fs1); // 创建写入流  
     string s = (issue.user.username);  
     sw1.WriteLine(e.ToString()); // 写入  
     sw1.Close();  
}
</code></pre><p>此代码是将异常信息e,  在C 盘，test文件夹下的log.txt文件中</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/C/">C#</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NET/">.NET</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C-写入文件/">C#写入文件</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-SQL处理时间" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/10/SQL处理时间/" class="article-date">
      <time datetime="2016-08-10T06:57:54.000Z" itemprop="datePublished">2016-08-10</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/10/SQL处理时间/">SQL处理时间</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>以下基于SQL server数据库，其他数据库类似处理</strong></p>
<ol>
<li>处理时间中，应用最多的就是对时间进行格式化处理，这也是我在当前项目中应用最多的一个知识点 。<br>datetime–&gt;date  从datetime中提取date日期</li>
</ol>
<ul>
<li><p>DATE(date)<br><em>                       date</em> 参数是合法的日期表达式。</p>
</li>
<li><p>CONVERT(_data<em>type(length)</em>,_data_to_be<em>converted</em>,<em>style</em>)<br>_           data<em>type(length)</em> 规定目标数据类型（带有可选的长度）<br>_           data_to_be<em>converted</em> 含有需要转换的值<br><em>           style</em> 规定日期/时间的输出格式。 关于style<br><table class="dataintable"><br><tbody><br><tr><br><th>Style ID</th><br><th>Style 格式</th><br></tr><br><tr><br><td>100 或者 0</td><br><td>mon dd yyyy hh:miAM （或者 PM）</td><br></tr><br><tr><br><td>101</td><br><td>mm/dd/yy</td><br></tr><br><tr><br><td>102</td><br><td>yy.mm.dd</td><br></tr><br><tr><br><td>103</td><br><td>dd/mm/yy</td><br></tr><br><tr><br><td>104</td><br><td>dd.mm.yy</td><br></tr><br><tr><br><td>105</td><br><td>dd-mm-yy</td><br></tr><br><tr><br><td>106</td><br><td>dd mon yy</td><br></tr><br><tr><br><td>107</td><br><td>Mon dd, yy</td><br></tr><br><tr><br><td>108</td><br><td>hh:mm:ss</td><br></tr><br><tr><br><td>109 或者 9</td><br><td>mon dd yyyy hh:mi:ss:mmmAM（或者 PM）</td><br></tr><br><tr><br><td>110</td><br><td>mm-dd-yy</td><br></tr><br><tr><br><td>111</td><br><td>yy/mm/dd</td><br></tr><br><tr><br><td>112</td><br><td>yymmdd</td><br></tr><br><tr><br><td>113 或者 13</td><br><td>dd mon yyyy hh:mm:ss:mmm(24h)</td><br></tr><br><tr><br><td>114</td><br><td>hh:mi:ss:mmm(24h)</td><br></tr><br><tr><br><td>120 或者 20</td><br><td>yyyy-mm-dd hh:mi:ss(24h)</td><br></tr><br><tr><br><td>121 或者 21</td><br><td>yyyy-mm-dd hh:mi:ss.mmm(24h)</td><br></tr><br><tr><br><td>126</td><br><td>yyyy-mm-ddThh:mm:ss.mmm（没有空格）</td><br></tr><br><tr><br><td>130</td><br><td>dd mon yyyy hh:mi:ss:mmmAM</td><br></tr><br><tr><br><td>131</td><br><td>dd/mm/yy hh:mi:ss:mmmAM</td><br></tr><br></tbody><br></table><br>例：CONVERT(varchar(12), getdate(), 111))   yy/mm/dd</p>
</li>
</ul>
<p>&nbsp;</p>
<p>2. 时间的加减运算(SQL server 默认格林尼治时间 ）</p>
<p>getdate()返回当前日期和时间（精确到毫秒）</p>
<p>目前我所知道的日期加减方式有2种，</p>
<p>加减时刻：直接写数字或字符串    getdate()+’8:00:00’ 当前数据库标准时间增加<span style="color: #ff0000;">8小时</span>；</p>
<p>加减日期：直接写数字或字符串    CONVERT(varchar(12), getdate(), 111))+5，当前数据库标准日期增加<span style="color: #ff0000;">5天</span></p>
<ul>
<li><p>使用<a href="http://www.w3school.com.cn/sql/func_dateadd.asp" target="_blank" rel="external">函数</a> ，返回日期<br><pre>DATEADD(<em>datepart</em>,<em>number</em>,<em>date</em>)</pre><br><em>               date</em> 参数是合法的日期表达式</p>
<p><em>              number</em> 是您希望添加的间隔数；</p>
<p>对于未来的时间，此数是<span style="color: #ff0000;">正数</span>，对于过去的时间，此数是<span style="color: #ff0000;">负数</span>。</p>
<p>例：DATEADD(d,-7, CONVERT(varchar(12), getdate()+’8:00:00’, 111))当前日期向前推7天<br>关于datepart<br><table class="dataintable"><br><tbody><br><tr><br><th>datepart</th><br><th>缩写</th><br></tr><br><tr><br><td>年</td><br><td>yy, yyyy</td><br></tr><br><tr><br><td>季度</td><br><td>qq, q</td><br></tr><br><tr><br><td>月</td><br><td>mm, m</td><br></tr><br><tr><br><td>年中的日</td><br><td>dy, y</td><br></tr><br><tr><br><td>日</td><br><td>dd, d</td><br></tr><br><tr><br><td>周</td><br><td>wk, ww</td><br></tr><br><tr><br><td>星期</td><br><td>dw, w</td><br></tr><br><tr><br><td>小时</td><br><td>hh</td><br></tr><br><tr><br><td>分钟</td><br><td>mi, n</td><br></tr><br><tr><br><td>秒</td><br><td>ss, s</td><br></tr><br><tr><br><td>毫秒</td><br><td>ms</td><br></tr><br><tr><br><td>微妙</td><br><td>mcs</td><br></tr><br><tr><br><td>纳秒</td><br><td>ns</td><br></tr><br></tbody><br></table><br>&nbsp;</p>
</li>
</ul>
<p><strong>注：加减日期之前，必须先进性格式化处理，否则会出现歧义，会把前一天的<span style="color: #ff0000;">此刻</span>到今天的<span style="color: #ff0000;">此刻</span>当作一天</strong></p>
<p><strong>        比如：</strong>2016-<span style="text-decoration: underline;"><span style="color: #ff0000; text-decoration: underline;">08-02</span></span> 19:30:05.780  到  2016<span style="text-decoration: underline; color: #ff0000;">-08-03</span> 19:30:05.780   当作一天处理</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/SQL/">SQL</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-server/">SQL server</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql日期加减/">sql日期加减</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql日期格式化/">sql日期格式化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React 常见问题" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/07/React 常见问题/" class="article-date">
      <time datetime="2016-08-07T04:44:40.000Z" itemprop="datePublished">2016-08-07</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/07/React 常见问题/">React 常见问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>自己在学习react 时遇到的奇葩问题</p>
<ol>
<li>Failed to load resource: net::ERR_CONNECTION_RESET浏览器无法加载内容昨天在chrome运行时还好好的，今天就崩了，在stackoverflow查了一下，说是证书不匹配，建议更换浏览器。我用IE试了一下，果然OK。链接<a href="http://stackoverflow.com/questions/24931566/getting-error-in-console-failed-to-load-resource-neterr-connection-reset" target="_blank" rel="external">http://stackoverflow.com/questions/24931566/getting-error-in-console-failed-to-load-resource-neterr-connection-reset</a> ，当然也可以<a href="http://stackoverflow.com/questions/22083453/console-errors-failed-to-load-resource-neterr-insecure-response" target="_blank" rel="external">安装</a>证书。也可以重装<a href="https://zhaoda.gitbooks.io/webpack/content/install.html" target="_blank" rel="external">webpack</a> 。</li>
<li>路由正确的情况下无法实现跳转on<span style="color: #ff0000;">c</span>lick–&gt;on<span style="color: #ff0000;">C</span>lick<br>onClick={this.} 中onclick拼写错误。我使用的IDE是webstorm，他错误提示为<strong>on<span style="color: #ff0000;">c</span>lick，</strong>导致无法实现功能,此时需要手动改为on<span style="color: #ff0000;">C</span>lick</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-fetch连接AZURE数据库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/06/fetch连接AZURE数据库/" class="article-date">
      <time datetime="2016-08-06T13:04:27.000Z" itemprop="datePublished">2016-08-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/06/fetch连接AZURE数据库/">fetch连接AZURE数据库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>之前用学习用react-native开发手机app新生项目，实现app的基本操作，其中最重要的一项就是用fetch （<a href="https://fetch.spec.whatwg.org/#responses）连接到远程数据库，我看了半天资料也没看懂，在网上也没找到实例代码，最后看了队友的代码后才明白，看来还是太年轻。" target="_blank" rel="external">https://fetch.spec.whatwg.org/#responses）连接到远程数据库，我看了半天资料也没看懂，在网上也没找到实例代码，最后看了队友的代码后才明白，看来还是太年轻。</a></p>
<p>&nbsp;</p>
<p>废话少说，直接看代码（以下为硬代码）：</p>
<pre><code>&apos;use strict&apos;
import React,{Component}from &apos;react&apos;
import {props}from &apos;react-native&apos;
import backToSignUp from &apos;./SignUp&apos;
const http= &apos;http://dytestfirst.azurewebsites.net/tables/&apos; //数据库url/tables
const id=&apos;ff96a1f6-a5c4-4bf3-a3bb-0d7f998c74db&apos;
export default class DataBase
{
toInsert( user, pwd,email)
{
    fetch(&apos;http://dytestfirst.azurewebsites.net/tables/User&apos;, {  //表名
        method: &apos;POST&apos;,
        headers: {
            &apos;Accept&apos;: &apos;application/json&apos;,
            &apos;Content-Type&apos;: &apos;application/json&apos;,
            &apos;ZUMO-API-VERSION&apos;:&apos;2.0.0&apos;
        },
        body: JSON.stringify({    //字段
            username: user,
            password: pwd,
            MAIL: email
        })
    }).then((response) =&gt; response.text())
        .then((responseText) =&gt; {
            console.log(responseText);
        })
        .catch((error) =&gt; {
            console.warn(error);
        });
}

updatePWD(password)//修改
{
    fetch(http+&apos;user/&apos;+id, {
        method: &quot;PATCH&quot;,
         headers: {
         &quot;Accept&quot;: &quot;application/json&quot;,
         &quot;Content-Type&quot;: &quot;application/json&quot;,
         &quot;ZUMO-API-VERSION&quot;:&quot;2.0.0&quot;,
         },
         body:JSON.stringify
         ({
            PASSWORD: password,
         })
         }).then((response) =&gt; response.text())
         .then((responseText) =&gt; {
         console.log(responseText);
         })
         .catch((error) =&gt; {
         console.warn(error);
         });
         }

delete()//删除
 {
     fetch(http+&apos;user/&apos;+id, {
     method: &quot;DELETE&quot;,  //删除
     headers: {
     &quot;ZUMO-API-VERSION&quot;:&quot;2.0.0&quot;,
     },
     }).then((response) =&gt; response.text())
     .then((responseText) =&gt; {
     console.log(responseText);
     })
     .catch((error) =&gt; {
     console.warn(error);
     });

     }

getPassword()
{
    fetch(http+&apos;user/&apos;+id, {
        method: &quot;GET&quot;,
        headers: {
            &apos;Accept&apos;: &apos;application/json&apos;,
            &apos;Content-Type&apos;: &apos;application/json&apos;,
            &quot;ZUMO-API-VERSION&quot;: &quot;2.0.0&quot;
        },
    }).then((response) =&gt; response.text())
        .then((responseText) =&gt; {
            console.log(responseText);
        })
        .catch((error) =&gt; {
            console.warn(error);
        });
      router.pop();

}

/*
    async getasswordFromApi()
    {
        try {
            let response = await fetch(&apos;http://dytestfirst.azurewebsites.net/tables/User?ZUMO-API-VERSION=2.0.0&apos;);
            console.log(response.password);
            return response.password;
        } catch(error) {
            throw error;
        }
    }
*/
}
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/react-native/">react-native</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AZURE/">AZURE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fetch/">fetch</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fetch链接数据库/">fetch链接数据库</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-native/">react native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rn/">rn</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-VS（远程）链接SQLserver 数据库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/04/VS（远程）链接SQLserver 数据库/" class="article-date">
      <time datetime="2016-08-04T02:00:59.000Z" itemprop="datePublished">2016-08-04</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/04/VS（远程）链接SQLserver 数据库/">VS（远程）链接SQLserver 数据库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="本文基于VS2015社区版"><a href="#本文基于VS2015社区版" class="headerlink" title="本文基于VS2015社区版"></a>本文基于VS2015社区版</h2><h2 id="一：远程连接AZURE-数据库"><a href="#一：远程连接AZURE-数据库" class="headerlink" title="一：远程连接AZURE 数据库"></a>一：远程连接<a href="https://www.azure.cn/" target="_blank" rel="external">AZURE</a> 数据库</h2><p>自从2014年<strong>Windows </strong><em><strong>Azure</strong> </em>在华商用以来，原来越多的企业和团队开始付费使用该服务，也就应运而生了一个新的问题：<strong>如何连接AZURE数据库？</strong></p>
<p>获取连接该数据库的字段  点击数据库<strong>—&gt;</strong>连接字符串 ；</p>
<p><pre style="padding-left: 30px;"><del></del><br>//ConnectDB.cs<br>//面向对象</pre></p>
<p><span style="color: #0000ff;">namespace LuckyGitlabStatWebAPI.DAO</span><br>{<br>    <span style="color: #0000ff;">public class ConnectDB</span><br>    {<br>        //数据库用户名<br>        private static string userName = “”;<br>        //数据库密码<br>        private static string password = “”;<br>        //连接的服务器地址<br>        private static string dataSource = “”;<br>        //数据库名称<br>        private static string sampleDatabaseName = “”;<br>        ///<br>        /// 公共代码，连接数据库<br>        ///<br><span style="color: #0000ff;">        public SqlConnectionStringBuilder ConnectDataBase()</span><br>        {<br><span style="color: #0000ff;">            SqlConnectionStringBuilder</span> connString2Builder;<br><span style="color: #0000ff;">            connString2Builder</span> = new SqlConnectionStringBuilder();<br><span style="color: #0000ff;">            connString2Builder</span>.DataSource = dataSource;<br><span style="color: #0000ff;">            connString2Builder</span>.InitialCatalog = sampleDatabaseName;<br><span style="color: #0000ff;">            connString2Builder</span>.Encrypt = true;<br><span style="color: #0000ff;">            connString2Builder</span>.TrustServerCertificate = false;<br><span style="color: #0000ff;">            connString2Builder</span>.UserID = userName;<br><span style="color: #0000ff;">            connString2Builder</span>.Password = password;<br><span style="color: #0000ff;">          return</span> connString2Builder;<br>        }<br>    }<br>}<br>SampleCOntroller.cs 方法调用查询<br><span style="color: #0000ff;">public List GetMembers()</span><br>{<br><span style="color: #0000ff;">    try</span><br>    {<br><span style="color: #0000ff;">        SqlConnectionStringBuilder</span> connString2Builder = conncetdb.ConnectDataBase();<br><span style="color: #0000ff;">        using</span> (SqlConnection conn = new SqlConnection(connString2Builder.ToString()))<br>        {<br><span style="color: #0000ff;">             using</span> (SqlCommand command = conn.CreateCommand())<br>             {<br>                   conn.Open();<br>                   command.CommandText = “SELECT * FROM Member”;<br>                  //ExecuteReader()：将 CommandText 发送到 Connection，并生成 SqlDataReader。<br><span style="color: #0000ff;">                  using</span> (SqlDataReader reader = command.ExecuteReader())<br>                  {<br>                         // Loop over the results<br><span style="color: #0000ff;">                         while</span> (reader.Read())//SqlDataReader到下一个记录<br>                         {<br><span style="color: #0000ff;">                              string</span> s = reader.ToString();<br>                              member.username = reader[“UserName”].ToString().Trim();<br>                              member.password = reader[“Password”].ToString().Trim();<br>                              member.email = reader[“Email”].ToString().Trim();<br>                              member.sex =reader[“Sex”].ToString().Trim();<br>                              members.<span style="color: #0000ff;">Add</span>(member);<br>                         }<br>                 }<br><span style="color: #0000ff;">                conn</span>.Close();<br>           }<br>       }<br><span style="color: #0000ff;">       return</span> members;<br>   }<br><span style="color: #0000ff;">   catch</span> (<span style="color: #0000ff;">SqlException</span> e)<br>   {<br><span style="color: #0000ff;">       Console</span>.WriteLine(“查找异常”);<br>   }<br><span style="color: #0000ff;">   return</span> members;<br>}<br><br>再给大家分享一个控制台版的链接代码<a href="http://www.cuichongyang.cn/index.php/2016/05/13/net-code-azure-sql/" target="_blank" rel="external">http://www.cuichongyang.cn/index.php/2016/05/13/net-code-azure-sql/</a></p>
<p>AZURE数据库虽好，但访问速度比较慢，一个简单的跳转就需要3S左右，所以我们就放弃AZURE，采用本地数据库SQL server</p>
<h2 id="二、链接本地（远程）SQL-server"><a href="#二、链接本地（远程）SQL-server" class="headerlink" title="二、链接本地（远程）SQL server"></a>二、链接本地（远程）SQL server</h2><p>在SQL server准备阶段，请先访问<a href="http://www.cuichongyang.cn/index.php/2016/07/28/sqlserverzhanghudengluwentiyijiquanxianwenti/" target="_blank" rel="external">这篇博文</a> ，解决登陆和访问权限问题</p>
<p>步骤：</p>
<p><strong>工具–&gt;连接到数据库–&gt;输入服务器名–&gt;SQL Server身份验证–&gt;输入用户名、密码（非sa）–&gt;选择数据库–&gt;测试链接–&gt;高级–&gt;复制最后一行输入框内的连接数据</strong></p>
<p><strong> 在输入服务器名字时：</strong></p>
<p>1. 本地：在登陆SQL server的页面<span style="color: #ff00ff;">复制</span>服务器名字，  否则会显示 <span style="color: #ff00ff;">“用户名”无法连接</span></p>
<p>2.远程：输入服务器所在的<strong><span style="color: #ff00ff;">IP</span></strong></p>
<p><div></div></p>
<div>

<pre><code>ConnectDB.CS
namespace LuckyGitlabStatWebAPI.DAO  
{  
    public class ConnectLocalSQL  
    {  
        /// &amp;lt;summary&amp;gt;  
        /// 连接本地Sql Server数据库  
        /// &amp;lt;/summary  &amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;  
        public SqlConnection ConnectDataBase()  
        {  
            //连接字符串用SQL Server身份验证的账户登录，不能用windows身份验证的用户    （&lt;span style=&quot;color: #ff00ff;&quot;&gt;密码需要手动填写&lt;/span&gt;）
            SqlConnection conn = new SqlConnection(&quot;Data Source=;Initial Catalog=;Persist Security Info=;User ID=;password=&quot;);  
            return conn;  
        }  
    }  
}  `&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;pre&gt;`        public Member GetSingleInfo(string username)  
        {  
            //连接本地数据库  
            SqlConnection conn = connectLocaldb.ConnectDataBase();  
            //打开数据库  
            conn.Open();  
            //创建查询语句   
            SqlCommand querySingleInfo = conn.CreateCommand();  
            querySingleInfo.CommandText = &quot;SELECT * FROM Member where UserName=&quot; + &quot;&apos;&quot; + username + &quot;&apos;&quot;;  
            SqlDataReader singleInfoReader = querySingleInfo.ExecuteReader();  
            //有多行数据，用while循环  
            while (singleInfoReader.Read())  
            {  
                member.username = singleInfoReader[&quot;UserName&quot;].ToString().Trim();  
                member.password = singleInfoReader[&quot;Password&quot;].ToString().Trim();  
                member.email = singleInfoReader[&quot;Email&quot;].ToString().Trim();  
                member.sex = singleInfoReader[&quot;Sex&quot;].ToString().Trim();  
                members.Add(member);  
            }  
            //关闭查询  
            singleInfoReader.Close();  
            //关闭数据库连接  
            conn.Close();  

            return member;  
        }  
</code></pre><p>&nbsp;</p>
</div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/C/">C#</a><a class="article-category-link" href="/categories/C/SQL/">SQL</a><a class="article-category-link" href="/categories/C/SQL/未分类/">未分类</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NET/">.NET</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-server/">SQL server</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VS/">VS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库，AZURE/">数据库，AZURE</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2017 谢红光
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 6;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>