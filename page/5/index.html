<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="谢红光" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="茶壶盖">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="茶壶盖">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="茶壶盖">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="茶壶盖" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/dog.jpg">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>茶壶盖</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/dog.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">谢红光</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/xiehongguang0228@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/Alvis888" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa StackOverflow" href="https://stackoverflow.com/users/6244981/xiehongguang" title="StackOverflow"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NET/">.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/360云/">360云</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AZURE/">AZURE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Axis属性/">Axis属性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bt/">Bt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Build-Event/">Build Event</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-写入文件/">C#写入文件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CURD/">CURD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESLint/">ESLint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Email/">Email</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ExecuteNonQuery/">ExecuteNonQuery ()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Json/">Json</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LUIS/">LUIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-D3-Axis/">React-D3 Axis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL-server/">SQL server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Socket/">Socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS/">VS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/">XML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bat/">bat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bot/">bot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bot-framework/">bot framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c-c/">c/c++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/case语句/">case语句</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/date/">date()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dialog/">dialog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fetch/">fetch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fetch链接数据库/">fetch链接数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hook/">hook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/material-ui/">material ui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microsoft-bot/">microsoft bot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node-js/">node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/office/">office</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/qq/">qq</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rn/">rn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sate/">sate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/select/">select</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/server-2008/">server 2008</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/service/">service</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slack/">slack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlserver/">sqlserver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql日期加减/">sql日期加减</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql日期格式化/">sql日期格式化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/static/">static</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/string/">string</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thinkphp/">thinkphp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/time/">time()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-api/">web api</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webhook/">webhook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webhook，Gitlab/">webhook，Gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows-service/">windows service</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/word/">word</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wpf/">wpf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内存管理/">内存管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/删除/">删除</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图片库/">图片库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/存储过程/">存储过程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实体形式/">实体形式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/弹窗/">弹窗</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/截取/">截取</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搭建/">搭建</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库，AZURE/">数据库，AZURE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/时间戳/">时间戳</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电影/">电影</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/登陆页面/">登陆页面</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/种子/">种子</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/空白页/">空白页</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网盘搜索/">网盘搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网站/">网站</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/美剧/">美剧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/选择框/">选择框</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邮件/">邮件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/链接/">链接</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">谢红光</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/dog.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">谢红光</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/xiehongguang0228@gmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/Alvis888" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa StackOverflow" target="_blank" href="https://stackoverflow.com/users/6244981/xiehongguang" title="StackOverflow"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-Gitlab WebHook本地获取json数据（含有BuildEvents字段）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/12/Gitlab WebHook本地获取json数据（含有BuildEvents字段）/" class="article-date">
      <time datetime="2016-08-12T12:48:58.000Z" itemprop="datePublished">2016-08-12</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/12/Gitlab WebHook本地获取json数据（含有BuildEvents字段）/">Gitlab WebHook本地获取json数据（含有BuildEvents字段）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>当Gitlab中有动作触发时，就会触动 WebHook（钩子），Webhook也会随之返回一个Json数据， 可以根据这个json数据来实时监控项目工程，在Gitlab的Help中给出了很多字段，但唯独没有显性给出BuildEvents字段：</p>
<pre><code>{

    “brfore_sha”:””,

    “build_allow_failure”:””,

    “build_duration”:””,

    “build_finished_at”:””,

    “build_id”:””,

    “build_name”:””,

    “build_stage”:””,

    “build_started_at”:””,

    “build_status”:””,

    “commit”:

    {

        “author_email”:””,

        “author_name”:””,

        “duration”:””,

        “finished_at”:””,

        “id”:””,

        “message”:””,

        “sha”:””,

        “started_at”:””,

        “status”:””

    },

    “object_kind”:””,

    “project_id”:””,

    “project_name”:””,

    “ref”:”master”,

    “repository”:

    {

        “description”:””,

        “git_http_url”:””,

        “git_ssh_url”:””,

        “homepage”:””,

        “name”:””,

        “url”:””,

        “visibility_level”:””

    },

    “sha”:””,

    “tag”:””,

    “user”:

        {

            “email”:””,

            “id”:””,

            “name”:””

        }

}
</code></pre><p>但只有样例字段还是远远不够的，因为某些字段的含义我们很难理解（build中before_sha表示version，），此时就需要输出自己的代码build返回的json数据。在help中也有相应的方法代码，在此翻译一下，供以后使用，毕竟“好记性不如烂笔头”</p>
<p>S1 . 配置Ruby环境（安装Ruby软件时，点击第二个复选框（自动配置PATH））</p>
<p>S2. 建文本文件，粘贴代码，保存为<span style="color: #ff0000;">print_http_body.rb</span></p>
<pre><code>require &apos;webrick&apos;

server = WEBrick::HTTPServer.new(:Port =&gt; ARGV.first)
server.mount_proc &apos;/&apos; do |req, res|
  puts req.body
end

trap &apos;INT&apos; do
  server.shutdown
end
server.start
</code></pre><p>S3. 在文件所在目录下打开Cmd， 编辑 ruby print_http_body.rb 8000（8000是未被占用的端口）</p>
<p>S4. 在webhook receiver中添加Event，<a href="http://my.host:8000/" target="_blank" rel="external">http://my.host:8000/</a> （my.host表示IP）</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>完成以上4步后，触发相关的时间，就会在Cmd页面中输出对应的Json数据。</p>
<p>例如，如果创建的是IssueEvent，则，创建新的Issue或对已有的Issue操作时，就会在Cmd页面输出Json数据</p>
<p><strong>注：点击<span style="color: #ff0000;">Test</span>按钮，返回的均是Push的json数据，所以在测试API时出现错误很正常</strong>（保证代码正确的前提下，修改数据实体类的字段即可）</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/web-api/">web api</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Build-Event/">Build Event</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Json/">Json</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/webhook，Gitlab/">webhook，Gitlab</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-C#写入文件" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/10/C#写入文件/" class="article-date">
      <time datetime="2016-08-10T12:58:08.000Z" itemprop="datePublished">2016-08-10</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/10/C#写入文件/">C#写入文件</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>有些 项目代码无法在本地调试（比如web hook），所以就很难迅速找到错误点。这个时候就需要在运行代码将异常信息再本地以文件的形式输出。</p>
<pre><code>try
{
    /*project code*/
}
catch(Exception e)
{
     FileStream fs1 = new FileStream(&quot;c:\\test\\log.txt&quot;, FileMode.Append, FileAccess.Write);   
     StreamWriter sw1 = new StreamWriter(fs1); // 创建写入流  
     string s = (issue.user.username);  
     sw1.WriteLine(e.ToString()); // 写入  
     sw1.Close();  
}
</code></pre><p>此代码是将异常信息e,  在C 盘，test文件夹下的log.txt文件中</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/C/">C#</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NET/">.NET</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C-写入文件/">C#写入文件</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-SQL处理时间" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/10/SQL处理时间/" class="article-date">
      <time datetime="2016-08-10T06:57:54.000Z" itemprop="datePublished">2016-08-10</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/10/SQL处理时间/">SQL处理时间</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><strong>以下基于SQL server数据库，其他数据库类似处理</strong></p>
<ol>
<li>处理时间中，应用最多的就是对时间进行格式化处理，这也是我在当前项目中应用最多的一个知识点 。<br>datetime–&gt;date  从datetime中提取date日期</li>
</ol>
<ul>
<li><p>DATE(date)<br><em>                       date</em> 参数是合法的日期表达式。</p>
</li>
<li><p>CONVERT(_data<em>type(length)</em>,_data_to_be<em>converted</em>,<em>style</em>)<br>_           data<em>type(length)</em> 规定目标数据类型（带有可选的长度）<br>_           data_to_be<em>converted</em> 含有需要转换的值<br><em>           style</em> 规定日期/时间的输出格式。 关于style<br><table class="dataintable" style="height: 652px;" width="422"><br><tbody><br><tr><br><th>Style ID</th><br><th>Style 格式</th><br></tr><br><tr><br><td>100 或者 0</td><br><td>mon dd yyyy hh:miAM （或者 PM）</td><br></tr><br><tr><br><td>101</td><br><td>mm/dd/yy</td><br></tr><br><tr><br><td>102</td><br><td>yy.mm.dd</td><br></tr><br><tr><br><td>103</td><br><td>dd/mm/yy</td><br></tr><br><tr><br><td>104</td><br><td>dd.mm.yy</td><br></tr><br><tr><br><td>105</td><br><td>dd-mm-yy</td><br></tr><br><tr><br><td>106</td><br><td>dd mon yy</td><br></tr><br><tr><br><td>107</td><br><td>Mon dd, yy</td><br></tr><br><tr><br><td>108</td><br><td>hh:mm:ss</td><br></tr><br><tr><br><td>109 或者 9</td><br><td>mon dd yyyy hh:mi:ss:mmmAM（或者 PM）</td><br></tr><br><tr><br><td>110</td><br><td>mm-dd-yy</td><br></tr><br><tr><br><td>111</td><br><td>yy/mm/dd</td><br></tr><br><tr><br><td>112</td><br><td>yymmdd</td><br></tr><br><tr><br><td>113 或者 13</td><br><td>dd mon yyyy hh:mm:ss:mmm(24h)</td><br></tr><br><tr><br><td>114</td><br><td>hh:mi:ss:mmm(24h)</td><br></tr><br><tr><br><td>120 或者 20</td><br><td>yyyy-mm-dd hh:mi:ss(24h)</td><br></tr><br><tr><br><td>121 或者 21</td><br><td>yyyy-mm-dd hh:mi:ss.mmm(24h)</td><br></tr><br><tr><br><td>126</td><br><td>yyyy-mm-ddThh:mm:ss.mmm（没有空格）</td><br></tr><br><tr><br><td>130</td><br><td>dd mon yyyy hh:mi:ss:mmmAM</td><br></tr><br><tr><br><td>131</td><br><td>dd/mm/yy hh:mi:ss:mmmAM</td><br></tr><br></tbody><br></table><br>例：CONVERT(varchar(12), getdate(), 111))   yy/mm/dd</p>
</li>
</ul>
<p>&nbsp;</p>
<p>2. 时间的加减运算(SQL server 默认格林尼治时间 ）</p>
<p>getdate()返回当前日期和时间（精确到毫秒）</p>
<p>目前我所知道的日期加减方式有2种，</p>
<p>加减时刻：直接写数字或字符串    getdate()+’8:00:00’ 当前数据库标准时间增加<span style="color: #ff0000;">8小时</span>；</p>
<p>加减日期：直接写数字或字符串    CONVERT(varchar(12), getdate(), 111))+5，当前数据库标准日期增加<span style="color: #ff0000;">5天</span></p>
<ul>
<li><p>使用<a href="http://www.w3school.com.cn/sql/func_dateadd.asp" target="_blank" rel="external">函数</a> ，返回日期<br><pre>DATEADD(<em>datepart</em>,<em>number</em>,<em>date</em>)</pre><br><em>               date</em> 参数是合法的日期表达式</p>
<p><em>              number</em> 是您希望添加的间隔数；</p>
<p>对于未来的时间，此数是<span style="color: #ff0000;">正数</span>，对于过去的时间，此数是<span style="color: #ff0000;">负数</span>。</p>
<p>例：DATEADD(d,-7, CONVERT(varchar(12), getdate()+’8:00:00’, 111))当前日期向前推7天<br>关于datepart<br><table class="dataintable" style="width: 60%;"><br><tbody><br><tr><br><th>datepart</th><br><th>缩写</th><br></tr><br><tr><br><td>年</td><br><td>yy, yyyy</td><br></tr><br><tr><br><td>季度</td><br><td>qq, q</td><br></tr><br><tr><br><td>月</td><br><td>mm, m</td><br></tr><br><tr><br><td>年中的日</td><br><td>dy, y</td><br></tr><br><tr><br><td>日</td><br><td>dd, d</td><br></tr><br><tr><br><td>周</td><br><td>wk, ww</td><br></tr><br><tr><br><td>星期</td><br><td>dw, w</td><br></tr><br><tr><br><td>小时</td><br><td>hh</td><br></tr><br><tr><br><td>分钟</td><br><td>mi, n</td><br></tr><br><tr><br><td>秒</td><br><td>ss, s</td><br></tr><br><tr><br><td>毫秒</td><br><td>ms</td><br></tr><br><tr><br><td>微妙</td><br><td>mcs</td><br></tr><br><tr><br><td>纳秒</td><br><td>ns</td><br></tr><br></tbody><br></table><br>&nbsp;</p>
</li>
</ul>
<p><strong>注：加减日期之前，必须先进性格式化处理，否则会出现歧义，会把前一天的<span style="color: #ff0000;">此刻</span>到今天的<span style="color: #ff0000;">此刻</span>当作一天</strong></p>
<p><strong>        比如：</strong>2016-<span style="text-decoration: underline;"><span style="color: #ff0000; text-decoration: underline;">08-02</span></span> 19:30:05.780  到  2016<span style="text-decoration: underline; color: #ff0000;">-08-03</span> 19:30:05.780   当作一天处理</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/SQL/">SQL</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-server/">SQL server</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql日期加减/">sql日期加减</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sql日期格式化/">sql日期格式化</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React 常见问题" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/07/React 常见问题/" class="article-date">
      <time datetime="2016-08-07T04:44:40.000Z" itemprop="datePublished">2016-08-07</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/07/React 常见问题/">React 常见问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>自己在学习react 时遇到的奇葩问题</p>
<ol>
<li>Failed to load resource: net::ERR_CONNECTION_RESET浏览器无法加载内容昨天在chrome运行时还好好的，今天就崩了，在stackoverflow查了一下，说是证书不匹配，建议更换浏览器。我用IE试了一下，果然OK。链接<a href="http://stackoverflow.com/questions/24931566/getting-error-in-console-failed-to-load-resource-neterr-connection-reset" target="_blank" rel="external">http://stackoverflow.com/questions/24931566/getting-error-in-console-failed-to-load-resource-neterr-connection-reset</a> ，当然也可以<a href="http://stackoverflow.com/questions/22083453/console-errors-failed-to-load-resource-neterr-insecure-response" target="_blank" rel="external">安装</a>证书。也可以重装<a href="https://zhaoda.gitbooks.io/webpack/content/install.html" target="_blank" rel="external">webpack</a> 。</li>
<li>路由正确的情况下无法实现跳转on<span style="color: #ff0000;">c</span>lick–&gt;on<span style="color: #ff0000;">C</span>lick<br>onClick={this.} 中onclick拼写错误。我使用的IDE是webstorm，他错误提示为<strong>on<span style="color: #ff0000;">c</span>lick，</strong>导致无法实现功能,此时需要手动改为on<span style="color: #ff0000;">C</span>lick</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-fetch连接AZURE数据库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/06/fetch连接AZURE数据库/" class="article-date">
      <time datetime="2016-08-06T13:04:27.000Z" itemprop="datePublished">2016-08-06</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/06/fetch连接AZURE数据库/">fetch连接AZURE数据库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>之前用学习用react-native开发手机app新生项目，实现app的基本操作，其中最重要的一项就是用fetch （<a href="https://fetch.spec.whatwg.org/#responses）连接到远程数据库，我看了半天资料也没看懂，在网上也没找到实例代码，最后看了队友的代码后才明白，看来还是太年轻。" target="_blank" rel="external">https://fetch.spec.whatwg.org/#responses）连接到远程数据库，我看了半天资料也没看懂，在网上也没找到实例代码，最后看了队友的代码后才明白，看来还是太年轻。</a></p>
<p>&nbsp;</p>
<p>废话少说，直接看代码（以下为硬代码）：</p>
<pre><code>&apos;use strict&apos;
import React,{Component}from &apos;react&apos;
import {props}from &apos;react-native&apos;
import backToSignUp from &apos;./SignUp&apos;
const http= &apos;http://dytestfirst.azurewebsites.net/tables/&apos; //数据库url/tables
const id=&apos;ff96a1f6-a5c4-4bf3-a3bb-0d7f998c74db&apos;
export default class DataBase
{
toInsert( user, pwd,email)
{
    fetch(&apos;http://dytestfirst.azurewebsites.net/tables/User&apos;, {  //表名
        method: &apos;POST&apos;,
        headers: {
            &apos;Accept&apos;: &apos;application/json&apos;,
            &apos;Content-Type&apos;: &apos;application/json&apos;,
            &apos;ZUMO-API-VERSION&apos;:&apos;2.0.0&apos;
        },
        body: JSON.stringify({    //字段
            username: user,
            password: pwd,
            MAIL: email
        })
    }).then((response) =&gt; response.text())
        .then((responseText) =&gt; {
            console.log(responseText);
        })
        .catch((error) =&gt; {
            console.warn(error);
        });
}

updatePWD(password)//修改
{
    fetch(http+&apos;user/&apos;+id, {
        method: &quot;PATCH&quot;,
         headers: {
         &quot;Accept&quot;: &quot;application/json&quot;,
         &quot;Content-Type&quot;: &quot;application/json&quot;,
         &quot;ZUMO-API-VERSION&quot;:&quot;2.0.0&quot;,
         },
         body:JSON.stringify
         ({
            PASSWORD: password,
         })
         }).then((response) =&gt; response.text())
         .then((responseText) =&gt; {
         console.log(responseText);
         })
         .catch((error) =&gt; {
         console.warn(error);
         });
         }

delete()//删除
 {
     fetch(http+&apos;user/&apos;+id, {
     method: &quot;DELETE&quot;,  //删除
     headers: {
     &quot;ZUMO-API-VERSION&quot;:&quot;2.0.0&quot;,
     },
     }).then((response) =&gt; response.text())
     .then((responseText) =&gt; {
     console.log(responseText);
     })
     .catch((error) =&gt; {
     console.warn(error);
     });

     }

getPassword()
{
    fetch(http+&apos;user/&apos;+id, {
        method: &quot;GET&quot;,
        headers: {
            &apos;Accept&apos;: &apos;application/json&apos;,
            &apos;Content-Type&apos;: &apos;application/json&apos;,
            &quot;ZUMO-API-VERSION&quot;: &quot;2.0.0&quot;
        },
    }).then((response) =&gt; response.text())
        .then((responseText) =&gt; {
            console.log(responseText);
        })
        .catch((error) =&gt; {
            console.warn(error);
        });
      router.pop();

}

/*
    async getasswordFromApi()
    {
        try {
            let response = await fetch(&apos;http://dytestfirst.azurewebsites.net/tables/User?ZUMO-API-VERSION=2.0.0&apos;);
            console.log(response.password);
            return response.password;
        } catch(error) {
            throw error;
        }
    }
*/
}
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/react-native/">react-native</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AZURE/">AZURE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fetch/">fetch</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/fetch链接数据库/">fetch链接数据库</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react/">react</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/react-native/">react native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rn/">rn</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-VS（远程）链接SQLserver 数据库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/04/VS（远程）链接SQLserver 数据库/" class="article-date">
      <time datetime="2016-08-04T02:00:59.000Z" itemprop="datePublished">2016-08-04</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/04/VS（远程）链接SQLserver 数据库/">VS（远程）链接SQLserver 数据库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="本文基于VS2015社区版"><a href="#本文基于VS2015社区版" class="headerlink" title="本文基于VS2015社区版"></a>本文基于VS2015社区版</h2><h2 id="一：远程连接AZURE-数据库"><a href="#一：远程连接AZURE-数据库" class="headerlink" title="一：远程连接AZURE 数据库"></a>一：远程连接<a href="https://www.azure.cn/" target="_blank" rel="external">AZURE</a> 数据库</h2><p>自从2014年<strong>Windows </strong><em><strong>Azure</strong> </em>在华商用以来，原来越多的企业和团队开始付费使用该服务，也就应运而生了一个新的问题：<strong>如何连接AZURE数据库？</strong></p>
<p>获取连接该数据库的字段  点击数据库<strong>—&gt;</strong>连接字符串 ；</p>
<p><pre style="padding-left: 30px;"><del></del><br>//ConnectDB.cs<br>//面向对象</pre></p>
<p><span style="color: #0000ff;">namespace LuckyGitlabStatWebAPI.DAO</span><br>{<br>    <span style="color: #0000ff;">public class ConnectDB</span><br>    {<br>        //数据库用户名<br>        private static string userName = “”;<br>        //数据库密码<br>        private static string password = “”;<br>        //连接的服务器地址<br>        private static string dataSource = “”;<br>        //数据库名称<br>        private static string sampleDatabaseName = “”;<br>        ///<br>        /// 公共代码，连接数据库<br>        ///<br><span style="color: #0000ff;">        public SqlConnectionStringBuilder ConnectDataBase()</span><br>        {<br><span style="color: #0000ff;">            SqlConnectionStringBuilder</span> connString2Builder;<br><span style="color: #0000ff;">            connString2Builder</span> = new SqlConnectionStringBuilder();<br><span style="color: #0000ff;">            connString2Builder</span>.DataSource = dataSource;<br><span style="color: #0000ff;">            connString2Builder</span>.InitialCatalog = sampleDatabaseName;<br><span style="color: #0000ff;">            connString2Builder</span>.Encrypt = true;<br><span style="color: #0000ff;">            connString2Builder</span>.TrustServerCertificate = false;<br><span style="color: #0000ff;">            connString2Builder</span>.UserID = userName;<br><span style="color: #0000ff;">            connString2Builder</span>.Password = password;<br><span style="color: #0000ff;">          return</span> connString2Builder;<br>        }<br>    }<br>}<br>SampleCOntroller.cs 方法调用查询<br><span style="color: #0000ff;">public List GetMembers()</span><br>{<br><span style="color: #0000ff;">    try</span><br>    {<br><span style="color: #0000ff;">        SqlConnectionStringBuilder</span> connString2Builder = conncetdb.ConnectDataBase();<br><span style="color: #0000ff;">        using</span> (SqlConnection conn = new SqlConnection(connString2Builder.ToString()))<br>        {<br><span style="color: #0000ff;">             using</span> (SqlCommand command = conn.CreateCommand())<br>             {<br>                   conn.Open();<br>                   command.CommandText = “SELECT * FROM Member”;<br>                  //ExecuteReader()：将 CommandText 发送到 Connection，并生成 SqlDataReader。<br><span style="color: #0000ff;">                  using</span> (SqlDataReader reader = command.ExecuteReader())<br>                  {<br>                         // Loop over the results<br><span style="color: #0000ff;">                         while</span> (reader.Read())//SqlDataReader到下一个记录<br>                         {<br><span style="color: #0000ff;">                              string</span> s = reader.ToString();<br>                              member.username = reader[“UserName”].ToString().Trim();<br>                              member.password = reader[“Password”].ToString().Trim();<br>                              member.email = reader[“Email”].ToString().Trim();<br>                              member.sex =reader[“Sex”].ToString().Trim();<br>                              members.<span style="color: #0000ff;">Add</span>(member);<br>                         }<br>                 }<br><span style="color: #0000ff;">                conn</span>.Close();<br>           }<br>       }<br><span style="color: #0000ff;">       return</span> members;<br>   }<br><span style="color: #0000ff;">   catch</span> (<span style="color: #0000ff;">SqlException</span> e)<br>   {<br><span style="color: #0000ff;">       Console</span>.WriteLine(“查找异常”);<br>   }<br><span style="color: #0000ff;">   return</span> members;<br>}<br><br>再给大家分享一个控制台版的链接代码<a href="http://www.cuichongyang.cn/index.php/2016/05/13/net-code-azure-sql/" target="_blank" rel="external">http://www.cuichongyang.cn/index.php/2016/05/13/net-code-azure-sql/</a></p>
<p>AZURE数据库虽好，但访问速度比较慢，一个简单的跳转就需要3S左右，所以我们就放弃AZURE，采用本地数据库SQL server</p>
<h2 id="二、链接本地（远程）SQL-server"><a href="#二、链接本地（远程）SQL-server" class="headerlink" title="二、链接本地（远程）SQL server"></a>二、链接本地（远程）SQL server</h2><p>在SQL server准备阶段，请先访问<a href="http://www.cuichongyang.cn/index.php/2016/07/28/sqlserverzhanghudengluwentiyijiquanxianwenti/" target="_blank" rel="external">这篇博文</a> ，解决登陆和访问权限问题</p>
<p>步骤：</p>
<p><strong>工具–&gt;连接到数据库–&gt;输入服务器名–&gt;SQL Server身份验证–&gt;输入用户名、密码（非sa）–&gt;选择数据库–&gt;测试链接–&gt;高级–&gt;复制最后一行输入框内的连接数据</strong></p>
<p><strong> 在输入服务器名字时：</strong></p>
<p>1. 本地：在登陆SQL server的页面<span style="color: #ff00ff;">复制</span>服务器名字，  否则会显示 <span style="color: #ff00ff;">“用户名”无法连接</span></p>
<p>2.远程：输入服务器所在的<strong><span style="color: #ff00ff;">IP</span></strong></p>
<p><div></div></p>
<div>

<pre><code>ConnectDB.CS
namespace LuckyGitlabStatWebAPI.DAO  
{  
    public class ConnectLocalSQL  
    {  
        /// &amp;lt;summary&amp;gt;  
        /// 连接本地Sql Server数据库  
        /// &amp;lt;/summary  &amp;gt;
        /// &amp;lt;returns&amp;gt;&amp;lt;/returns&amp;gt;  
        public SqlConnection ConnectDataBase()  
        {  
            //连接字符串用SQL Server身份验证的账户登录，不能用windows身份验证的用户    （&lt;span style=&quot;color: #ff00ff;&quot;&gt;密码需要手动填写&lt;/span&gt;）
            SqlConnection conn = new SqlConnection(&quot;Data Source=;Initial Catalog=;Persist Security Info=;User ID=;password=&quot;);  
            return conn;  
        }  
    }  
}  `&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;pre&gt;`        public Member GetSingleInfo(string username)  
        {  
            //连接本地数据库  
            SqlConnection conn = connectLocaldb.ConnectDataBase();  
            //打开数据库  
            conn.Open();  
            //创建查询语句   
            SqlCommand querySingleInfo = conn.CreateCommand();  
            querySingleInfo.CommandText = &quot;SELECT * FROM Member where UserName=&quot; + &quot;&apos;&quot; + username + &quot;&apos;&quot;;  
            SqlDataReader singleInfoReader = querySingleInfo.ExecuteReader();  
            //有多行数据，用while循环  
            while (singleInfoReader.Read())  
            {  
                member.username = singleInfoReader[&quot;UserName&quot;].ToString().Trim();  
                member.password = singleInfoReader[&quot;Password&quot;].ToString().Trim();  
                member.email = singleInfoReader[&quot;Email&quot;].ToString().Trim();  
                member.sex = singleInfoReader[&quot;Sex&quot;].ToString().Trim();  
                members.Add(member);  
            }  
            //关闭查询  
            singleInfoReader.Close();  
            //关闭数据库连接  
            conn.Close();  

            return member;  
        }  
</code></pre><p>&nbsp;</p>
</div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/C/">C#</a><a class="article-category-link" href="/categories/C/SQL/">SQL</a><a class="article-category-link" href="/categories/C/SQL/未分类/">未分类</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NET/">.NET</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-server/">SQL server</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VS/">VS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库，AZURE/">数据库，AZURE</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-正则表达式" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/03/正则表达式/" class="article-date">
      <time datetime="2016-08-03T12:50:26.000Z" itemprop="datePublished">2016-08-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/03/正则表达式/">正则表达式</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <div>转自<a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="external">http://deerchao.net/tutorials/regex/regex.htm</a></div><br><div></div><br><div id="top"><a href="http://deerchao.net/" target="_blank" rel="external">首页</a> | <a href="http://deerchao.net/tutorials/regex/common.htm" target="_blank" rel="external">常用正则表达式</a> | <a href="http://deerchao.net/tools/regex_tester/index.htm" target="_blank" rel="external">正则表达式测试工具</a></div>

<h1 id="正则表达式30分钟入门教程"><a href="#正则表达式30分钟入门教程" class="headerlink" title="正则表达式30分钟入门教程"></a>正则表达式30分钟入门教程</h1><p>版本：v2.33 (2013-1-10) 作者：<a href="http://deerchao.net/" target="_blank" rel="external">deerchao</a> 转载请注明<a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="external">来源</a></p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p><a href="http://deerchao.net/tutorials/regex/regex.htm#mission" title="转到正文内容" target="_blank" rel="external">跳过目录</a></p>
<ol>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#mission" target="_blank" rel="external">本文目标</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#howtouse" target="_blank" rel="external">如何使用本教程</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#introduction" target="_blank" rel="external">正则表达式到底是什么东西？</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#getstarted" target="_blank" rel="external">入门</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#testing" target="_blank" rel="external">测试正则表达式</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#metacode" target="_blank" rel="external">元字符</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#escape" target="_blank" rel="external">字符转义</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#repeat" target="_blank" rel="external">重复</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#charclass" target="_blank" rel="external">字符类</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#alternative" target="_blank" rel="external">分枝条件</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#negation" target="_blank" rel="external">反义</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#grouping" target="_blank" rel="external">分组</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#backreference" target="_blank" rel="external">后向引用</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#lookaround" target="_blank" rel="external">零宽断言</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#negativelookaround" target="_blank" rel="external">负向零宽断言</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#commenting" target="_blank" rel="external">注释</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#greedyandlazy" target="_blank" rel="external">贪婪与懒惰</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#regexoptions" target="_blank" rel="external">处理选项</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#balancedgroup" target="_blank" rel="external">平衡组/递归匹配</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#more" target="_blank" rel="external">还有些什么东西没提到</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#contact" target="_blank" rel="external">联系作者</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#resources" target="_blank" rel="external">网上的资源及本文参考文献</a></li>
<li><a href="http://deerchao.net/tutorials/regex/regex.htm#updatelog" target="_blank" rel="external">更新纪录</a></li>
</ol>
<h2 id="本文目标"><a href="#本文目标" class="headerlink" title="本文目标"></a>本文目标</h2><p>30分钟内让你明白正则表达式是什么，并对它有一些基本的了解，让你可以在自己的程序或网页里使用它。</p>
<h2 id="如何使用本教程"><a href="#如何使用本教程" class="headerlink" title="如何使用本教程"></a>如何使用本教程</h2><p>最重要的是——请给我<em>30分钟</em>，如果你没有使用正则表达式的经验，请不要试图在30<em>秒</em>内入门——除非你是超人 :)</p>
<p>别被下面那些复杂的表达式吓倒，只要跟着我一步一步来，你会发现正则表达式其实并没有想像中的那么困难。当然，如果你看完了这篇教程之后，发现自己明白了很多，却又几乎什么都记不得，那也是很正常的——我认为，没接触过正则表达式的人在看完这篇教程后，能把提到过的语法记住80%以上的可能性为零。这里只是让你明白基本的原理，以后你还需要多练习，多使用，才能熟练掌握正则表达式。</p>
<p>除了作为入门教程之外，本文还试图成为可以在日常工作中使用的正则表达式语法参考手册。就作者本人的经历来说，这个目标还是完成得不错的——你看，我自己也没能把所有的东西记下来，不是吗？</p>
<p>&nbsp;</p>
<h2 id="正则表达式到底是什么东西？"><a href="#正则表达式到底是什么东西？" class="headerlink" title="正则表达式到底是什么东西？"></a>正则表达式到底是什么东西？</h2><p><span class="name">字符</span>是计算机软件处理文字时最基本的单位，可能是字母，数字，标点符号，空格，换行符，汉字等等。<span class="name">字符串</span>是0个或更多个字符的序列。<span class="name">文本</span>也就是文字，字符串。说某个字符串<span class="name">匹配</span>某个正则表达式，通常是指这个字符串里有一部分（或几部分分别）能满足表达式给出的条件。</p>
<p>在编写处理字符串的程序或网页时，经常会有查找符合某些复杂规则的字符串的需要。<span class="name">正则表达式</span>就是用于描述这些规则的工具。换句话说，正则表达式就是记录文本规则的代码。</p>
<p>很可能你使用过Windows/Dos下用于文件查找的<span class="name">通配符(wildcard)</span>，也就是<span class="code"><em></em></span>和<span class="code">?</span>。如果你想查找某个目录下的所有的Word文档的话，你会搜索.doc。在这里，<span class="code">*</span>会被解释成任意的字符串。和通配符类似，正则表达式也是用来进行文本匹配的工具，只不过比起通配符，它能更精确地描述你的需求——当然，代价就是更复杂——比如你可以编写一个正则表达式，用来查找<span class="desc">所有以0开头，后面跟着2-3个数字，然后是一个连字号“-”，最后是7或8位数字的字符串</span>(像<span class="string">010-12345678</span>或<span class="string">0376-7654321</span>)。</p>
<h2 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h2><p>学习正则表达式的最好方法是从例子开始，理解例子之后再自己对例子进行修改，实验。下面给出了不少简单的例子，并对它们作了详细的说明。</p>
<p>假设你在一篇英文小说里查找<span class="desc">hi</span>，你可以使用正则表达式<span class="regex">hi</span>。</p>
<p>&nbsp;</p>
<p>这几乎是最简单的正则表达式了，它可以精确匹配这样的字符串：<span class="desc">由两个字符组成，前一个字符是h,后一个是i</span>。通常，处理正则表达式的工具会提供一个忽略大小写的选项，如果选中了这个选项，它可以匹配<span class="string">hi</span>,<span class="string">HI</span>,<span class="string">Hi</span>,<span class="string">hI</span>这四种情况中的任意一种。</p>
<p>&nbsp;</p>
<p>不幸的是，很多单词里包含<span class="string">hi</span>这两个连续的字符，比如<span class="string">him</span>,<span class="string">history</span>,<span class="string">high</span>等等。用<span class="regex">hi</span>来查找的话，这里边的<span class="string">hi</span>也会被找出来。如果要<span class="desc">精确地查找hi这个单词</span>的话，我们应该使用<span class="regex">\bhi\b</span>。</p>
<p><span class="part">\b</span>是正则表达式规定的一个特殊代码（好吧，某些人叫它<span class="name">元字符，metacharacter</span>），代表着<span class="desc">单词的开头或结尾，也就是单词的分界处</span>。虽然通常英文的单词是由空格，标点符号或者换行来分隔的，但是<span class="code">\b</span>并不匹配这些单词分隔字符中的任何一个，它<strong>只匹配一个位置</strong>。</p>
<p>&nbsp;</p>
<p>如果需要更精确的说法，<span class="code">\b</span>匹配这样的位置：它的前一个字符和后一个字符不全是(一个是,一个不是或不存在)<span class="code">\w</span>。</p>
<p>假如你要找的是<span class="desc">hi后面不远处跟着一个Lucy</span>，你应该用<span class="regex">\bhi\b.*\bLucy\b</span>。</p>
<p>&nbsp;</p>
<p>这里，<span class="part">.</span>是另一个元字符，匹配<span class="desc">除了换行符以外的任意字符</span>。<span class="part"><em></em></span>同样是元字符，不过它代表的不是字符，也不是位置，而是数量——它指定<span class="desc">前边的内容可以连续重复使用任意次以使整个表达式得到匹配</span>。因此，<span class="part">.<em></em></span>连在一起就意味着<span class="desc">任意数量的不包含换行的字符</span>。现在<span class="regex">\bhi\b.\bLucy\b</span>的意思就很明显了：<span class="desc">先是一个单词hi,然后是任意个任意字符(但不能是换行)，最后是Lucy这个单词</span>。</p>
<p>换行符就是’\n’,ASCII编码为10(十六进制0x0A)的字符。</p>
<p>如果同时使用其它元字符，我们就能构造出功能更强大的正则表达式。比如下面这个例子：</p>
<p><span class="regex">0\d\d-\d\d\d\d\d\d\d\d</span>匹配这样的字符串：<span class="desc">以0开头，然后是两个数字，然后是一个连字号“-”，最后是8个数字</span>(也就是中国的电话号码。当然，这个例子只能匹配区号为3位的情形)。</p>
<p>这里的<span class="part">\d</span>是个新的元字符，匹配<span class="desc">一位数字(0，或1，或2，或……)</span>。<span class="part">-</span>不是元字符，只匹配它本身——连字符(或者减号，或者中横线，或者随你怎么称呼它)。</p>
<p>为了避免那么多烦人的重复，我们也可以这样写这个表达式：<span class="regex">0\d{2}-\d{8}</span>。这里<span class="part">\d</span>后面的<span class="part">{2}</span>(<span class="part">{8}</span>)的意思是前面<span class="part">\d</span><span class="desc">必须连续重复匹配2次(8次)</span>。</p>
<p>&nbsp;</p>
<h2 id="测试正则表达式"><a href="#测试正则表达式" class="headerlink" title="测试正则表达式"></a>测试正则表达式</h2><div class="note"><br><br>其它可用的测试工具:<br><br><em>   <a href="http://www.regexbuddy.com/" target="_blank" rel="external">RegexBuddy</a>
</em>   <a href="http://regexpal.com/" target="_blank" rel="external">Javascript正则表达式在线测试工具</a><br></div><br>如果你不觉得正则表达式很难读写的话，要么你是一个天才，要么，你不是地球人。正则表达式的语法很令人头疼，即使对经常使用它的人来说也是如此。由于难于读写，容易出错，所以找一种工具对正则表达式进行测试是很有必要的。<br><br>不同的环境下正则表达式的一些细节是不相同的，本教程介绍的是微软 .Net Framework 4.0 下正则表达式的行为，所以，我向你推荐我编写的.Net下的工具 <a href="http://deerchao.net/tools/regex_tester/index.htm" title="转到RegexTester页面" target="_blank" rel="external">正则表达式测试器</a>。请参考该页面的说明来安装和运行该软件。<br><br>下面是Regex Tester运行时的截图：<br><br><a href="http://deerchao.net/tools/regex_tester/index.htm" target="_blank" rel="external"><img src="http://deerchao.net/images/regex_tester.png" alt="正则表达式测试器运行截图"></a><br><br>##<br><br>## 元字符<br><br>现在你已经知道几个很有用的元字符了，如<span class="code">\b</span>,<span class="code">.</span>,<span class="code"><em></em></span>，还有<span class="code">\d</span>.正则表达式里还有更多的元字符，比如<span class="code">\s</span>匹配<span class="desc">任意的空白符，包括空格，制表符(Tab)，换行符，中文全角空格等</span>。<span class="code">\w</span>匹配<span class="desc">字母或数字或下划线或汉字等</span>。<br><br>对中文/汉字的特殊处理是由.Net提供的正则表达式引擎支持的，其它环境下的具体情况请查看相关文档。<br><br>&nbsp;<br><br>下面来看看更多的例子：<br><br><span class="regex">\ba\w\b</span>匹配<span class="desc">以字母<span class="part">a</span>开头的单词——先是某个单词开始处(<span class="part">\b</span>)，然后是字母<span class="part">a</span>,然后是任意数量的字母或数字(<span class="part">\w<em></em></span>)，最后是单词结束处(<span class="part">\b</span>)</span>。<br><br>好吧，现在我们说说正则表达式里的单词是什么意思吧：就是不少于一个的连续的<span class="code">\w</span>。不错，这与学习英文时要背的成千上万个同名的东西的确关系不大 :)<br><br><span class="regex">\d+</span>匹配<span class="desc">1个或更多连续的数字</span>。这里的<span class="part">+</span>是和<span class="code"></span>类似的元字符，不同的是<span class="code"><em></em></span>匹配<span class="desc">重复任意次(可能是0次)</span>，而<span class="code">+</span>则匹配<span class="desc">重复1次或更多次</span>。<br><br><span class="regex">\b\w{6}\b</span> 匹配<span class="desc">刚好6个字符的单词</span>。<br><table cellspacing="0"><caption>表1.常用的元字符</caption><br><thead><br><tr><br><th scope="col">代码</th><br><th scope="col">说明</th><br></tr><br></thead><br><tbody><br><tr><br><td><span class="code">.</span></td><br><td><span class="desc">匹配除换行符以外的任意字符</span></td><br></tr><br><tr><br><td><span class="code">\w</span></td><br><td><span class="desc">匹配字母或数字或下划线或汉字</span></td><br></tr><br><tr><br><td><span class="code">\s</span></td><br><td><span class="desc">匹配任意的空白符</span></td><br></tr><br><tr><br><td><span class="code">\d</span></td><br><td><span class="desc">匹配数字</span></td><br></tr><br><tr><br><td><span class="code">\b</span></td><br><td><span class="desc">匹配单词的开始或结束</span></td><br></tr><br><tr><br><td><span class="code">^</span></td><br><td><span class="desc">匹配字符串的开始</span></td><br></tr><br><tr><br><td><span class="code">$</span></td><br><td><span class="desc">匹配字符串的结束</span></td><br></tr><br></tbody><br></table><br><br>正则表达式引擎通常会提供一个“测试指定的字符串是否匹配一个正则表达式”的方法，如JavaScript里的RegExp.test()方法或.NET里的Regex.IsMatch()方法。这里的匹配是指是字符串里有没有符合表达式规则的部分。如果不使用<span class="code">^</span>和<span class="code">$</span>的话，对于<span class="regex">\d{5,12}</span>而言，使用这样的方法就只能保证字符串里<span class="desc">包含5到12连续位数字</span>，而不是整个字符串就是5到12位数字。<br><br>元字符<span class="code">^</span>（和数字6在同一个键位上的符号）和<span class="code">$</span>都匹配一个位置，这和<span class="code">\b</span>有点类似。<span class="code">^</span>匹配你要用来查找的字符串的开头，<span class="code">$</span>匹配结尾。这两个代码在验证输入的内容时非常有用，比如一个网站如果要求你填写的QQ号必须为5位到12位数字时，可以使用：<span class="regex">^\d{5,12}$</span>。<br><br>这里的<span class="part">{5,12}</span>和前面介绍过的<span class="part">{2}</span>是类似的，只不过<span class="part">{2}</span>匹配<span class="desc">只能不多不少重复2次</span>，<span class="part">{5,12}</span>则是<span class="desc">重复的次数不能少于5次，不能多于12次</span>，否则都不匹配。<br><br>因为使用了<span class="part">^</span>和<span class="part">$</span>，所以输入的整个字符串都要用来和<span class="part">\d{5,12}</span>来匹配，也就是说整个输入<span class="desc">必须是5到12个数字</span>，因此如果输入的QQ号能匹配这个正则表达式的话，那就符合要求了。<br><br>和忽略大小写的选项类似，有些正则表达式处理工具还有一个处理多行的选项。如果选中了这个选项，<span class="code">^</span>和<span class="code">$</span>的意义就变成了<span class="desc">匹配行的开始处和结束处</span>。<br><br>##<br><br>## 字符转义<br><br>如果你想查找元字符本身的话，比如你查找<span class="desc">.</span>,或者<span class="desc"></span>,就出现了问题：你没办法指定它们，因为它们会被解释成别的意思。这时你就得使用<span class="code">\</span>来取消这些字符的特殊意义。因此，你应该使用<span class="regex">.</span>和<span class="regex">*</span>。当然，要查找<span class="desc">\</span>本身，你也得用<span class="regex">\</span>.<br><br>例如：<span class="regex">deerchao.net</span>匹配<span class="desc">deerchao.net</span>，<span class="regex">C:\Windows</span>匹配<span class="desc">C:\Windows</span>。<br><br>##<br><br>## 重复<br><br>你已经看过了前面的<span class="code"><em></em></span>,<span class="code">+</span>,<span class="code">{2}</span>,<span class="code">{5,12}</span>这几个匹配重复的方式了。下面是正则表达式中所有的限定符(指定数量的代码，例如,{5,12}等)：<br><table cellspacing="0"><caption>表2.常用的限定符</caption><br><thead><br><tr><br><th scope="col">代码/语法</th><br><th scope="col">说明</th><br></tr><br></thead><br><tbody><br><tr><br><td><span class="code"><em></em></span></td><br><td><span class="desc">重复零次或更多次</span></td><br></tr><br><tr><br><td><span class="code">+</span></td><br><td><span class="desc">重复一次或更多次</span></td><br></tr><br><tr><br><td><span class="code">?</span></td><br><td><span class="desc">重复零次或一次</span></td><br></tr><br><tr><br><td><span class="code">{n}</span></td><br><td><span class="desc">重复n次</span></td><br></tr><br><tr><br><td><span class="code">{n,}</span></td><br><td><span class="desc">重复n次或更多次</span></td><br></tr><br><tr><br><td><span class="code">{n,m}</span></td><br><td><span class="desc">重复n到m次</span></td><br></tr><br></tbody><br></table><br>下面是一些使用重复的例子：<br><br><span class="regex">Windows\d+</span>匹配<span class="desc">Windows后面跟1个或更多数字</span><br><br><span class="regex">^\w+</span>匹配<span class="desc">一行的第一个单词(或整个字符串的第一个单词，具体匹配哪个意思得看选项设置)</span><br><br>##<br><br>## 字符类<br><br>要想查找数字，字母或数字，空白是很简单的，因为已经有了对应这些字符集合的元字符，但是如果你想匹配没有预定义元字符的字符集合(比如元音字母a,e,i,o,u),应该怎么办？<br><br>很简单，你只需要在方括号里列出它们就行了，像<span class="regex">[aeiou]</span>就匹配<span class="desc">任何一个英文元音字母</span>，<span class="regex">[.?!]</span>匹配<span class="desc">标点符号(.或?或!)</span>。<br><br>我们也可以轻松地指定一个字符<span class="name">范围</span>，像<span class="regex">[0-9]</span>代表的含意与<span class="regex">\d</span>就是完全一致的：<span class="desc">一位数字</span>；同理<span class="regex">[a-z0-9A-Z_]</span>也完全等同于<span class="code">\w</span>（如果只考虑英文的话）。<br><br>下面是一个更复杂的表达式：<span class="regex">(?0\d{2}[) -]?\d{8}</span>。<br><br>“(”和“)”也是元字符，后面的<a href="http://deerchao.net/tutorials/regex/regex.htm#grouping" target="_blank" rel="external">分组节</a>里会提到，所以在这里需要使用<a href="http://deerchao.net/tutorials/regex/regex.htm#escape" target="_blank" rel="external">转义</a>。<br><br>这个表达式可以匹配<span class="desc">几种格式的电话号码</span>，像<span class="string">(010)88886666</span>，或<span class="string">022-22334455</span>，或<span class="string">02912345678</span>等。我们对它进行一些分析吧：首先是一个转义字符<span class="part">(</span>,它能出现0次或1次(<span class="part">?</span>),然后是一个<span class="part">0</span>，后面跟着2个数字(<span class="part">\d{2}</span>)，然后是<span class="part">)</span>或<span class="part">-</span>或<span class="part">空格</span>中的一个，它出现1次或不出现(<span class="part">?</span>)，最后是8个数字(<span class="part">\d{8}</span>)。<br><br>##<br><br>## 分枝条件<br><br>不幸的是，刚才那个表达式也能匹配<span class="string">010)12345678</span>或<span class="string">(022-87654321</span>这样的“不正确”的格式。要解决这个问题，我们需要用到<span class="name">分枝条件</span>。正则表达式里的<span class="name">分枝条件</span>指的是有几种规则，如果满足其中任意一种规则都应该当成匹配，具体方法是用<span class="code">|</span>把不同的规则分隔开。听不明白？没关系，看例子：<br><br><span class="regex">0\d{2}-\d{8}|0\d{3}-\d{7}</span>这个表达式能<span class="desc">匹配两种以连字号分隔的电话号码：一种是三位区号，8位本地号(如010-12345678)，一种是4位区号，7位本地号(0376-2233445)</span>。<br><br><span class="regex">(?0\d{2})?[- ]?\d{8}|0\d{2}[- ]?\d{8}</span>这个表达式<span class="desc">匹配3位区号的电话号码，其中区号可以用小括号括起来，也可以不用，区号与本地号间可以用连字号或空格间隔，也可以没有间隔</span>。你可以试试用分枝条件把这个表达式扩展成也支持4位区号的。<br><br><span class="regex">\d{5}-\d{4}|\d{5}</span>这个表达式用于匹配美国的邮政编码。美国邮编的规则是5位数字，或者用连字号间隔的9位数字。之所以要给出这个例子是因为它能说明一个问题：<strong>使用分枝条件时，要注意各个条件的顺序</strong>。如果你把它改成<span class="regex">\d{5}|\d{5}-\d{4}</span>的话，那么就只会匹配5位的邮编(以及9位邮编的前5位)。原因是匹配分枝条件时，将会从左到右地测试每个条件，如果满足了某个分枝的话，就不会去再管其它的条件了。<br><br>##<br><br>## 分组<br><br>我们已经提到了怎么重复单个字符（直接在字符后面加上限定符就行了）；但如果想要重复多个字符又该怎么办？你可以用小括号来指定<span class="name">子表达式</span>(也叫做<span class="name">分组</span>)，然后你就可以指定这个子表达式的重复次数了，你也可以对子表达式进行其它一些操作(后面会有介绍)。<br><br><span class="regex">(\d{1,3}.){3}\d{1,3}</span>是一个<span class="desc">简单的IP地址匹配</span>表达式。要理解这个表达式，请按下列顺序分析它：<span class="part">\d{1,3}</span>匹配<span class="desc">1到3位的数字</span>，<span class="part">(\d{1,3}.){3}</span>匹配<span class="desc">三位数字加上一个英文句号(这个整体也就是这个<span class="name">分组</span>)重复3次</span>，最后再加上<span class="desc">一个一到三位的数字</span>(<span class="part">\d{1,3}</span>)。<br><br>IP地址中每个数字都不能大于255. 经常有人问我, 01.02.03.04 这样前面带有0的数字, 是不是正确的IP地址呢? 答案是: 是的, IP 地址里的数字可以包含有前导 0 (leading zeroes).<br><br>不幸的是，它也将匹配<span class="string">256.300.888.999</span>这种不可能存在的IP地址。如果能使用算术比较的话，或许能简单地解决这个问题，但是正则表达式中并不提供关于数学的任何功能，所以只能使用冗长的分组，选择，字符类来描述一个正确的IP地址：<span class="regex">((2[0-4]\d|25[0-5]|[01]?\d\d?).){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)</span>。<br><br>理解这个表达式的关键是理解<span class="part">2[0-4]\d|25[0-5]|[01]?\d\d?</span>，这里我就不细说了，你自己应该能分析得出来它的意义。<br><br>## 反义<br><br>有时需要查找不属于某个能简单定义的字符类的字符。比如想查找除了数字以外，其它任意字符都行的情况，这时需要用到<span class="name">反义</span>：<br><table cellspacing="0"><caption>表3.常用的反义代码</caption><br><thead><br><tr><br><th scope="col">代码/语法</th><br><th scope="col">说明</th><br></tr><br></thead><br><tbody><br><tr><br><td><span class="code">\W</span></td><br><td><span class="desc">匹配任意不是字母，数字，下划线，汉字的字符</span></td><br></tr><br><tr><br><td><span class="code">\S</span></td><br><td><span class="desc">匹配任意不是空白符的字符</span></td><br></tr><br><tr><br><td><span class="code">\D</span></td><br><td><span class="desc">匹配任意非数字的字符</span></td><br></tr><br><tr><br><td><span class="code">\B</span></td><br><td><span class="desc">匹配不是单词开头或结束的位置</span></td><br></tr><br><tr><br><td><span class="code">[^x]</span></td><br><td><span class="desc">匹配除了x以外的任意字符</span></td><br></tr><br><tr><br><td><span class="code">[^aeiou]</span></td><br><td><span class="desc">匹配除了aeiou这几个字母以外的任意字符</span></td><br></tr><br></tbody><br></table><br>例子：<span class="regex">\S+</span>匹配<span class="desc">不包含空白符的字符串</span>。<br><br><span class="regex">&lt;a[^&gt;]+&gt;</span>匹配<span class="desc">用尖括号括起来的以a开头的字符串</span>。<br><br>##<br><br>## 后向引用<br><br>使用小括号指定一个子表达式后，<strong>匹配这个子表达式的文本</strong>(也就是此分组捕获的内容)可以在表达式或其它程序中作进一步的处理。默认情况下，每个分组会自动拥有一个<span class="name">组号</span>，规则是：从左向右，以分组的左括号为标志，第一个出现的分组的组号为1，第二个为2，以此类推。<br><div class="note"><br><br>呃……其实,组号分配还不像我刚说得那么简单：

   分组0对应整个正则表达式<br><em>   实际上组号分配过程是要从左向右扫描两遍的：第一遍只给未命名组分配，第二遍只给命名组分配－－因此所有命名组的组号都大于未命名的组号
</em>   你可以使用<span class="code">(?:exp)</span>这样的语法来剥夺一个分组对组号分配的参与权．<br></div><br>&nbsp;<br><br><span class="name">后向引用</span>用于重复搜索前面某个分组匹配的文本。例如，<span class="part">\1</span>代表<span class="desc">分组1匹配的文本</span>。难以理解？请看示例：<br><br><span class="regex">\b(\w+)\b\s+\1\b</span>可以用来匹配<span class="desc">重复的单词</span>，像<span class="string">go go</span>, 或者<span class="string">kitty kitty</span>。这个表达式首先是<span class="desc">一个单词</span>，也就是<span class="desc">单词开始处和结束处之间的多于一个的字母或数字</span>(<span class="part">\b(\w+)\b</span>)，这个单词会被捕获到编号为1的分组中，然后是<span class="desc">1个或几个空白符</span>(<span class="part">\s+</span>)，最后是<span class="desc">分组1中捕获的内容（也就是前面匹配的那个单词）</span>(<span class="part">\1</span>)。<br><br>你也可以自己指定子表达式的<span class="name">组名</span>。要指定一个子表达式的组名，请使用这样的语法：<span class="code">(?&lt;Word&gt;\w+)</span>(或者把尖括号换成<span class="code">‘</span>也行：<span class="code">(?’Word’\w+)</span>),这样就把<span class="part">\w+</span>的组名指定为<span class="part">Word</span>了。要反向引用这个分组<span class="name">捕获</span>的内容，你可以使用<span class="code">\k&lt;Word&gt;</span>,所以上一个例子也可以写成这样：<span class="regex">\b(?&lt;Word&gt;\w+)\b\s+\k&lt;Word&gt;\b</span>。<br><br>&nbsp;<br><br>使用小括号的时候，还有很多特定用途的语法。下面列出了最常用的一些：<br><table cellspacing="0"><caption>表4.常用分组语法</caption><br><tbody><br><tr><br><th scope="col">分类</th><br><th scope="col">代码/语法</th><br><th scope="col">说明</th><br></tr><br><tr><br><th rowspan="3">捕获</th><br><td><span class="code">(exp)</span></td><br><td><span class="desc">匹配exp,并捕获文本到自动命名的组里</span></td><br></tr><br><tr><br><td><span class="code">(?&lt;name&gt;exp)</span></td><br><td><span class="desc">匹配exp,并捕获文本到名称为name的组里，也可以写成(?’name’exp)</span></td><br></tr><br><tr><br><td><span class="code">(?:exp)</span></td><br><td><span class="desc">匹配exp,不捕获匹配的文本，也不给此分组分配组号</span></td><br></tr><br><tr><br><th rowspan="4">零宽断言</th><br><td><span class="code">(?=exp)</span></td><br><td><span class="desc">匹配exp前面的位置</span></td><br></tr><br><tr><br><td><span class="code">(?&lt;=exp)</span></td><br><td><span class="desc">匹配exp后面的位置</span></td><br></tr><br><tr><br><td><span class="code">(?!exp)</span></td><br><td><span class="desc">匹配后面跟的不是exp的位置</span></td><br></tr><br><tr><br><td><span class="code">(?&lt;!exp)</span></td><br><td><span class="desc">匹配前面不是exp的位置</span></td><br></tr><br><tr><br><th rowspan="1">注释</th><br><td><span class="code">(?#comment)</span></td><br><td><span class="desc">这种类型的分组不对正则表达式的处理产生任何影响，用于提供注释让人阅读</span></td><br></tr><br></tbody><br></table><br>我们已经讨论了前两种语法。第三个<span class="code">(?:exp)</span>不会改变正则表达式的处理方式，只是这样的组匹配的内容<span class="desc">不会像前两种那样被捕获到某个组里面，也不会拥有组号</span>。“我为什么会想要这样做？”——好问题，你觉得为什么呢？<br><br>##<br><br>## 零宽断言<br><br>地球人，是不是觉得这些术语名称太复杂，太难记了？我也有同感。知道有这么一种东西就行了，它叫什么，随它去吧！人若无名，便可专心练剑；物若无名，便可随意取舍……<br><br>接下来的四个用于查找在某些内容(但并不包括这些内容)之前或之后的东西，也就是说它们像<span class="code">\b</span>,<span class="code">^</span>,<span class="code">$</span>那样用于指定一个位置，这个位置应该满足一定的条件(即断言)，因此它们也被称为<span class="name">零宽断言</span>。最好还是拿例子来说明吧：<br><br>断言用来声明一个应该为真的事实。正则表达式中只有当断言为真时才会继续进行匹配。<br><br><span class="code">(?=exp)</span>也叫<span class="name">零宽度正预测先行断言</span>，它<span class="desc">断言自身出现的位置的后面能匹配表达式exp</span>。比如<span class="regex">\b\w+(?=ing\b)</span>，匹配<span class="desc">以ing结尾的单词的前面部分(除了ing以外的部分)</span>，如查找<span class="string">I’m singing while you’re dancing.</span>时，它会匹配<span class="desc">sing</span>和<span class="desc">danc</span>。<br><br><span class="code">(?&lt;=exp)</span>也叫<span class="name">零宽度正回顾后发断言</span>，它<span class="desc">断言自身出现的位置的前面能匹配表达式exp</span>。比如<span class="regex">(?&lt;=\bre)\w+\b</span>会匹配<span class="desc">以re开头的单词的后半部分(除了re以外的部分)</span>，例如在查找<span class="string">reading a book</span>时，它匹配<span class="desc">ading</span>。<br><br>假如你想要给一个很长的数字中每三位间加一个逗号(当然是从右边加起了)，你可以这样查找需要在前面和里面添加逗号的部分：<span class="regex">((?&lt;=\d)\d{3})+\b</span>，用它对<span class="string">1234567890</span>进行查找时结果是<span class="desc">234567890</span>。<br><br>下面这个例子同时使用了这两种断言：<span class="regex">(?&lt;=\s)\d+(?=\s)</span>匹配<span class="desc">以空白符间隔的数字(再次强调，不包括这些空白符)</span>。<br><br>##<br><br>## 负向零宽断言<br><br>前面我们提到过怎么查找<strong>不是某个字符或不在某个字符类里</strong>的字符的方法(反义)。但是如果我们只是想要<strong>确保某个字符没有出现，但并不想去匹配它</strong>时怎么办？例如，如果我们想查找这样的单词–它里面出现了字母q,但是q后面跟的不是字母u,我们可以尝试这样：<br><br><span class="regex">\b\w<em>q[^u]\w</em>\b</span>匹配<span class="desc">包含<strong>后面不是字母u的字母q</strong>的单词</span>。但是如果多做测试(或者你思维足够敏锐，直接就观察出来了)，你会发现，如果q出现在单词的结尾的话，像<strong>Iraq</strong>,<strong>Benq</strong>，这个表达式就会出错。这是因为<span class="part">[^u]</span>总要匹配一个字符，所以如果q是单词的最后一个字符的话，后面的<span class="part">[^u]</span>将会匹配q后面的单词分隔符(可能是空格，或者是句号或其它的什么)，后面的<span class="part">\w<em>\b</em></span>将会匹配下一个单词，于是<span class="regex">\b\wq[^u]\w<em>\b</em></span>就能匹配整个<span class="string">Iraq fighting</span>。<span class="name">负向零宽断言</span>能解决这样的问题，因为它只匹配一个位置，并不<strong>消费</strong>任何字符。现在，我们可以这样来解决这个问题：<span class="regex">\b\wq(?!u)\w<em>\b</em></span>。<br><br><span class="name">零宽度负预测先行断言</span><span class="code">(?!exp)</span>，<span class="desc">断言此位置的后面不能匹配表达式exp</span>。例如：<span class="regex">\d{3}(?!\d)</span>匹配<span class="desc">三位数字，而且这三位数字的后面不能是数字</span>；<span class="regex">\b((?!abc)\w)+\b</span>匹配<span class="desc">不包含连续字符串abc的单词</span>。<br><br>&nbsp;<br><br>同理，我们可以用<span class="code">(?&lt;!exp)</span>,<span class="name">零宽度负回顾后发断言</span>来<span class="desc">断言此位置的前面不能匹配表达式exp</span>：<span class="regex">(?&lt;![a-z])\d{7}</span>匹配<span class="desc">前面不是小写字母的七位数字</span>。<br><br>请详细分析表达式<span class="regex">(?&lt;=&lt;(\w+)&gt;).(?=&lt;\/\1&gt;)</span>，这个表达式最能表现零宽断言的真正用途。<br><br>一个更复杂的例子：<span class="regex">(?&lt;=&lt;(\w+)&gt;).<em>(?=&lt;\/\1&gt;)</em></span>匹配<span class="desc">不包含属性的简单HTML标签内里的内容</span>。<span class="code">(?&lt;=&lt;(\w+)&gt;)</span>指定了这样的<span class="name">前缀</span>：<span class="desc">被尖括号括起来的单词</span>(比如可能是&lt;b&gt;)，然后是<span class="part">.</span>(任意的字符串),最后是一个<span class="name">后缀</span><span class="part">(?=&lt;\/\1&gt;)</span>。注意后缀里的<span class="part">\/</span>，它用到了前面提过的字符转义；<span class="part">\1</span>则是一个反向引用，引用的正是<span class="desc">捕获的第一组</span>，前面的<span class="part">(\w+)</span>匹配的内容，这样如果前缀实际上是&lt;b&gt;的话，后缀就是&lt;/b&gt;了。整个表达式匹配的是&lt;b&gt;和&lt;/b&gt;之间的内容(再次提醒，不包括前缀和后缀本身)。<br><br>##<br><br>## 注释<br><br>小括号的另一种用途是通过语法<span class="code">(?#comment)</span>来包含注释。例如：<span class="regex">2[0-4]\d(?#200-249)|25<a href="?#250-255">0-5</a>|[01]?\d\d?(?#0-199)</span>。<br><br>要包含注释的话，最好是启用“忽略模式里的空白符”选项，这样在编写表达式时能任意的添加空格，Tab，换行，而实际使用时这些都将被忽略。启用这个选项后，在#后面到这一行结束的所有文本都将被当成注释忽略掉。例如，我们可以前面的一个表达式写成这样：<br><pre class="regex">      (?&lt;=    # 断言要匹配的文本的前缀<br>      &lt;(\w+)&gt; # 查找尖括号括起来的字母或数字(即HTML/XML标签)<br>      )       # 前缀结束<br>      .<em>      # 匹配任意文本<br>      (?=     # 断言要匹配的文本的后缀<br>      &lt;\/\1&gt;  # 查找尖括号括起来的内容：前面是一个”/“，后面是先前捕获的标签<br>      )       # 后缀结束</em></pre><br><br>##<br><br>## 贪婪与懒惰<br><br>当正则表达式中包含能接受重复的限定符时，通常的行为是（在使整个表达式能得到匹配的前提下）匹配<strong>尽可能多</strong>的字符。以这个表达式为例：<span class="regex">a.b</span>，它将会匹配<span class="desc">最长的以a开始，以b结束的字符串</span>。如果用它来搜索<span class="string">aabab</span>的话，它会匹配整个字符串<span class="desc">aabab</span>。这被称为<span class="name">贪婪</span>匹配。<br><br>有时，我们更需要<span class="name">懒惰</span>匹配，也就是匹配<strong>尽可能少</strong>的字符。前面给出的限定符都可以被转化为懒惰匹配模式，只要在它后面加上一个问号<span class="code">?</span>。这样<span class="regex">.<em>?</em></span>就意味着<span class="desc">匹配任意数量的重复，但是在能使整个匹配成功的前提下使用最少的重复</span>。现在看看懒惰版的例子吧：<br><br><span class="regex">a.?b</span>匹配<span class="desc">最短的，以a开始，以b结束的字符串</span>。如果把它应用于<span class="string">aabab</span>的话，它会匹配<span class="desc">aab（第一到第三个字符）</span>和<span class="desc">ab（第四到第五个字符）</span>。<br><br>为什么第一个匹配是aab（第一到第三个字符）而不是ab（第二到第三个字符）？简单地说，因为正则表达式有另一条规则，比懒惰／贪婪规则的优先级更高：最先开始的匹配拥有最高的优先权——The match that begins earliest wins。<br><br><table cellspacing="0"><caption>表5.懒惰限定符</caption><br><thead><br><tr><br><th scope="col">代码/语法</th><br><th scope="col">说明</th><br></tr><br></thead><br><tbody><br><tr><br><td><span class="code"><em>?</em></span></td><br><td><span class="desc">重复任意次，但尽可能少重复</span></td><br></tr><br><tr><br><td><span class="code">+?</span></td><br><td><span class="desc">重复1次或更多次，但尽可能少重复</span></td><br></tr><br><tr><br><td><span class="code">??</span></td><br><td><span class="desc">重复0次或1次，但尽可能少重复</span></td><br></tr><br><tr><br><td><span class="code">{n,m}?</span></td><br><td><span class="desc">重复n到m次，但尽可能少重复</span></td><br></tr><br><tr><br><td><span class="code">{n,}?</span></td><br><td><span class="desc">重复n次以上，但尽可能少重复</span></td><br></tr><br></tbody><br></table><br><br>##<br><br>## 处理选项<br><br>在C#中，你可以使用<a href="http://msdn2.microsoft.com/zh-cn/library/h5845fdz.aspx" title="MSDN 相关文档" target="_blank" rel="external">Regex(String, RegexOptions)构造函数</a>来设置正则表达式的处理选项。如：Regex regex = new Regex(@”\ba\w{6}\b”, RegexOptions.IgnoreCase);<br><br>上面介绍了几个选项如忽略大小写，处理多行等，这些选项能用来改变处理正则表达式的方式。下面是.Net中常用的正则表达式选项：<br><table cellspacing="0"><caption>表6.常用的处理选项</caption><br><thead><br><tr><br><th scope="col">名称</th><br><th scope="col">说明</th><br></tr><br></thead><br><tbody><br><tr><br><td>IgnoreCase(忽略大小写)</td><br><td>匹配时不区分大小写。</td><br></tr><br><tr><br><td>Multiline(多行模式)</td><br><td>更改<span class="code">^</span>和<span class="code">$</span>的含义，使它们分别在任意一行的行首和行尾匹配，而不仅仅在整个字符串的开头和结尾匹配。(在此模式下,<span class="code">$</span>的精确含意是:匹配\n之前的位置以及字符串结束前的位置.)</td><br></tr><br><tr><br><td>Singleline(单行模式)</td><br><td>更改<span class="code">.</span>的含义，使它与每一个字符匹配（包括换行符\n）。</td><br></tr><br><tr><br><td>IgnorePatternWhitespace(忽略空白)</td><br><td>忽略表达式中的非转义空白并启用由<span class="code">#</span>标记的注释。</td><br></tr><br><tr><br><td>ExplicitCapture(显式捕获)</td><br><td>仅捕获已被显式命名的组。</td><br></tr><br></tbody><br></table><br>一个经常被问到的问题是：是不是只能同时使用多行模式和单行模式中的一种？答案是：不是。这两个选项之间没有任何关系，除了它们的名字比较相似（以至于让人感到疑惑）以外。<br><br>##<br><br>## 平衡组/递归匹配<br><br>这里介绍的平衡组语法是由.Net Framework支持的；其它语言／库不一定支持这种功能，或者支持此功能但需要使用不同的语法。<br><br>有时我们需要匹配像<span class="desc">( 100  ( 50 + 15 ) )这样的可嵌套的层次性结构</span>，这时简单地使用<span class="code">(.+)</span>则只会匹配到最左边的左括号和最右边的右括号之间的内容(这里我们讨论的是贪婪模式，懒惰模式也有下面的问题)。假如原来的字符串里的左括号和右括号出现的次数不相等，比如<span class="string">( 5 / ( 3 + 2 ) ) )</span>，那我们的匹配结果里两者的个数也不会相等。有没有办法在这样的字符串里匹配到最长的，配对的括号之间的内容呢？<br><br>为了避免<span class="code">(</span>和<span class="code">(</span>把你的大脑彻底搞糊涂，我们还是用尖括号代替圆括号吧。现在我们的问题变成了如何把<span class="string">xx &lt;aa &lt;bbb&gt; &lt;bbb&gt; aa&gt; yy</span>这样的字符串里，最长的配对的尖括号内的内容捕获出来？<br><br>&nbsp;<br><br>这里需要用到以下的语法构造：<br><br><em>   <span class="code">(?’group’)</span> 把捕获的内容命名为group,并压入<span class="name">堆栈(Stack)</span>
</em>   <span class="code">(?’-group’)</span> 从堆栈上弹出最后压入堆栈的名为group的捕获内容，如果堆栈本来为空，则本分组的匹配失败<br><em>   <span class="code">(?(group)yes|no)</span> 如果堆栈上存在以名为group的捕获内容的话，继续匹配yes部分的表达式，否则继续匹配no部分
</em>   <span class="code">(?!)</span> 零宽负向先行断言，由于没有后缀表达式，试图匹配总是失败<br><br>如果你不是一个程序员（或者你自称程序员但是不知道堆栈是什么东西），你就这样理解上面的三种语法吧：第一个就是在黑板上写一个”group”，第二个就是从黑板上擦掉一个”group”，第三个就是看黑板上写的还有没有”group”，如果有就继续匹配yes部分，否则就匹配no部分。<br><br>&nbsp;<br><br>我们需要做的是每碰到了左括号，就在压入一个”Open”,每碰到一个右括号，就弹出一个，到了最后就看看堆栈是否为空－－如果不为空那就证明左括号比右括号多，那匹配就应该失败。正则表达式引擎会进行回溯(放弃最前面或最后面的一些字符)，尽量使整个表达式得到匹配。<br><pre class="regex">&lt;                         #最外层的左括号<br>    [^&lt;&gt;]<em>                #最外层的左括号后面的不是括号的内容<br>    (<br>        (<br>            (?’Open’&lt;)    #碰到了左括号，在黑板上写一个”Open”<br>            [^&lt;&gt;]</em>       #匹配左括号后面的不是括号的内容<br>        )+<br>        (<br>            (?’-Open’&gt;)   #碰到了右括号，擦掉一个”Open”<br>            [^&lt;&gt;]<em>        #匹配右括号后面不是括号的内容<br>        )+<br>    )</em><br>    (?(Open)(?!))         #在遇到最外层的右括号前面，判断黑板上还有没有没擦掉的”Open”；如果还有，则匹配失败<br><br>&gt;                         #最外层的右括号</pre><br>平衡组的一个最常见的应用就是匹配HTML,下面这个例子可以匹配<span class="desc">嵌套的&lt;div&gt;标签</span>：<span class="regex">&lt;div[^&gt;]<em>&gt;[^&lt;&gt;]</em>(((?’Open’&lt;div[^&gt;]<em>&gt;)[^&lt;&gt;]</em>)+((?’-Open’&lt;/div&gt;)[^&lt;&gt;]<em>)+)</em>(?(Open)(?!))&lt;/div&gt;</span>.<br><br>##<br><br>## 还有些什么东西没提到<br><br>上边已经描述了构造正则表达式的大量元素，但是还有很多没有提到的东西。下面是一些未提到的元素的列表，包含语法和简单的说明。你可以在网上找到更详细的参考资料来学习它们–当你需要用到它们的时候。如果你安装了MSDN Library,你也可以在里面找到.net下正则表达式详细的文档。这里的介绍很简略，如果你需要更详细的信息，而又没有在电脑上安装MSDN Library,可以查看<a href="http://msdn.microsoft.com/zh-cn/library/az24scfc.aspx" target="_blank" rel="external">关于正则表达式语言元素的MSDN在线文档</a>。<br><div class="ad"></div><br><table cellspacing="0"><caption>表7.尚未详细讨论的语法</caption><br><thead><br><tr><br><th scope="col">代码/语法</th><br><th scope="col">说明</th><br></tr><br></thead><br><tbody><br><tr><br><td><span class="code">\a</span></td><br><td><span class="desc">报警字符(打印它的效果是电脑嘀一声)</span></td><br></tr><br><tr><br><td><span class="code">\b</span></td><br><td><span class="desc">通常是单词分界位置，但如果在字符类里使用代表退格</span></td><br></tr><br><tr><br><td><span class="code">\t</span></td><br><td><span class="desc">制表符，Tab</span></td><br></tr><br><tr><br><td><span class="code">\r</span></td><br><td><span class="desc">回车</span></td><br></tr><br><tr><br><td><span class="code">\v</span></td><br><td><span class="desc">竖向制表符</span></td><br></tr><br><tr><br><td><span class="code">\f</span></td><br><td><span class="desc">换页符</span></td><br></tr><br><tr><br><td><span class="code">\n</span></td><br><td><span class="desc">换行符</span></td><br></tr><br><tr><br><td><span class="code">\e</span></td><br><td><span class="desc">Escape</span></td><br></tr><br><tr><br><td><span class="code">\0nn</span></td><br><td><span class="desc">ASCII代码中八进制代码为nn的字符</span></td><br></tr><br><tr><br><td><span class="code">\xnn</span></td><br><td><span class="desc">ASCII代码中十六进制代码为nn的字符</span></td><br></tr><br><tr><br><td><span class="code">\unnnn</span></td><br><td><span class="desc">Unicode代码中十六进制代码为nnnn的字符</span></td><br></tr><br><tr><br><td><span class="code">\cN</span></td><br><td><span class="desc">ASCII控制字符。比如\cC代表Ctrl+C</span></td><br></tr><br><tr><br><td><span class="code">\A</span></td><br><td><span class="desc">字符串开头(类似^，但不受处理多行选项的影响)</span></td><br></tr><br><tr><br><td><span class="code">\Z</span></td><br><td><span class="desc">字符串结尾或行尾(不受处理多行选项的影响)</span></td><br></tr><br><tr><br><td><span class="code">\z</span></td><br><td><span class="desc">字符串结尾(类似$，但不受处理多行选项的影响)</span></td><br></tr><br><tr><br><td><span class="code">\G</span></td><br><td><span class="desc">当前搜索的开头</span></td><br></tr><br><tr><br><td><span class="code">\p{name}</span></td><br><td><span class="desc">Unicode中命名为name的字符类，例如\p{IsGreek}</span></td><br></tr><br><tr><br><td><span class="code">(?&gt;exp)</span></td><br><td><span class="desc">贪婪子表达式</span></td><br></tr><br><tr><br><td><span class="code">(?&lt;x&gt;-&lt;y&gt;exp)</span></td><br><td><span class="desc">平衡组</span></td><br></tr><br><tr><br><td><span class="code">(?im-nsx:exp)</span></td><br><td><span class="desc">在子表达式exp中改变处理选项</span></td><br></tr><br><tr><br><td><span class="code">(?im-nsx)</span></td><br><td><span class="desc">为表达式后面的部分改变处理选项</span></td><br></tr><br><tr><br><td><span class="code">(?(exp)yes|no)</span></td><br><td><span class="desc">把exp当作零宽正向先行断言，如果在这个位置能匹配，使用yes作为此组的表达式；否则使用no</span></td><br></tr><br><tr><br><td><span class="code">(?(exp)yes)</span></td><br><td><span class="desc">同上，只是使用空表达式作为no</span></td><br></tr><br><tr><br><td><span class="code">(?(name)yes|no)</span></td><br><td><span class="desc">如果命名为name的组捕获到了内容，使用yes作为表达式；否则使用no</span></td><br></tr><br><tr><br><td><span class="code">(?(name)yes)</span></td><br><td><span class="desc">同上，只是使用空表达式作为no</span></td><br></tr><br></tbody><br></table><br><br>##<br><br>## 联系作者<br><br>好吧,我承认,我骗了你,读到这里你肯定花了不止30分钟.相信我,这是我的错,而不是因为你太笨.我之所以说”30分钟”,是为了让你有信心,有耐心继续下去.既然你看到了这里,那证明我的阴谋成功了.被忽悠的感觉很爽吧？<br><br>要投诉我,或者觉得我其实可以忽悠得更高明,欢迎来<a href="http://weibo.com/deerchao/" target="_blank" rel="external"><img src="http://deerchao.net/images/weibo.png" alt="">我的微博</a>让我知道. 如果你有关于正则表达式的问题, 可以到 <a href="http://www.stackoverflow.com/" target="_blank" rel="external"><img src="http://deerchao.net/images/stackoverflow.png" alt="">stackoverflow</a> 网站上提问, 记得要添加 regex 标签. 如果你更习惯于用中文交流, 可以到微博上用 #正则# 标签提出问题.<br><br>## 网上的资源及本文参考文献<br><br><em>   <a href="http://item.jd.com/11070361.html" target="_blank" rel="external">精通正则表达式（第3版）</a>
</em>   <a href="https://msdn.microsoft.com/zh-cn/library/hs600312.aspx" target="_blank" rel="external">微软的正则表达式教程</a><br><em>   <a href="http://msdn2.microsoft.com/zh-cn/library/system.text.regularexpressions.regex.aspx" target="_blank" rel="external">System.Text.RegularExpressions.Regex类(MSDN)</a>
</em>   <a href="http://www.regular-expressions.info/" target="_blank" rel="external">专业的正则表达式教学网站(英文)</a><br>*   <a href="http://weblogs.asp.net/whaggard/archive/2005/02/20/377025.aspx" target="_blank" rel="external">关于.Net下的平衡组的详细讨论（英文）</a><br><br>## 更新纪录<br><br><div class="ad"></div>

<ol>
<li>2006-3-27 第一版</li>
<li><p>2006-10-12 第二版</p>
<ul>
<li>修正了几个细节上的错误和不准确的地方</li>
<li>增加了对处理中文时的一些说明</li>
<li>更改了几个术语的翻译（采用了MSDN的翻译方式）</li>
<li>增加了平衡组的介绍</li>
<li>放弃了对The Regulator的介绍，改用Regex Tester</li>
</ul>
</li>
<li><p>2007-3-12 V2.1</p>
<ul>
<li>修正了几个小的错误</li>
<li>增加了对处理选项(RegexOptions)的介绍</li>
</ul>
</li>
<li><p>2007-5-28 V2.2</p>
<ul>
<li>重新组织了对零宽断言的介绍</li>
<li>删除了几个不太合适的示例，添加了几个实用的示例</li>
<li>其它一些微小的更改</li>
</ul>
</li>
<li><p>2007-8-3 V2.21</p>
<ul>
<li>修改了几处文字错误</li>
<li>修改/添加了对$,\b的精确说明</li>
<li>承认了作者是个骗子</li>
<li>给RegexTester添加了Singleline选项的相关功能</li>
</ul>
</li>
<li><p>2008-4-13 v2.3</p>
<ul>
<li>调整了部分章节的次序</li>
<li>修改了页面布局，删除了专门的参考节</li>
<li>针对读者的反馈，调整了部分内容</li>
</ul>
</li>
<li><p>2009-4-11 v2.31</p>
<ul>
<li>修改了几处文字错误</li>
<li>添加了一些注释说明</li>
<li>调整了一些措词</li>
</ul>
</li>
<li><p>2011-8-17 v2.32</p>
<ul>
<li>更改了工具介绍，换用自行开发的正则表达式测试器</li>
</ul>
</li>
<li><p>2013-1-10 v2.33</p>
<ul>
<li>说明包含前导0的IP地址是合法的<br>转自<a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="external">http://deerchao.net/tutorials/regex/regex.htm</a></li>
</ul>
</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/未分类/">未分类</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-教你如何删除Word空白页" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/03/教你如何删除Word空白页/" class="article-date">
      <time datetime="2016-08-03T03:34:43.000Z" itemprop="datePublished">2016-08-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/03/教你如何删除Word空白页/">教你如何删除Word空白页</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>今天上午，在我刚完成自己的代码任务时，一位非常好的老同学给我发来一份文件，让我帮忙把最后一</p>
<p>张空白页给删了。我心想，这么简单的问题，简直就是a piece of cake， 但转念一想，我的朋友那么聪明，</p>
<p>怎么会连这个问题也解决不了呢？我打开文件后用最基本的方法删去空白页，果然无法删去空白页。</p>
<p>于是乎只能上网查，果然找到一篇好文（虽然写于几年前，但依然好用）：</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><pre id="best-content-472547486" class="best-text mb-10">Word怎么删除空白页方法汇总</pre></p>
<p>1.将鼠标放在前一页的最后,用DEL健删除。如果空白面是最后一页,且鼠标在第一行，可选“格式”-“段落”，<br>  将这一行的行距设为固定值1磅，该空白页将自动消失。</p>
<p>2.先显示分页符，即在Word的左下角调整到“普通视图”状态，这时分页符就出现了，直接删除即可。 </p>
<p>3 选择“替换”点“高级”，在里面选择“使用通配符”以后下面有一个“特殊字符”字的开头，按住shift的时<br>候再点下鼠标，选择空白页,再删除（解决了我的问题）</p>
<p>4.如果是插入分页符造成的空白页，少的话，删除分页符就行，就是到空白页顶部按退格键。<br> （普通视图下或打开编辑标记会显示分页符） </p>
<p>5.如果分页符很多，可以编辑/替换/高级/特殊字符/人工分页符/全部替换就可以了。</p>
<p>6.如果是你画了一个表格，占了一整页，造成最后一个回车在第二页删不了，可以将表格缩小一点或者将上面<br>或者下面页边距设小一点，在文件/页面设置中，上下的数字改小一点。</p>
<p>7.将鼠标放在前一页的最后,用DEL健删除。如果空白面是最后一页,且鼠标在第一行，可选“格式”-“段落”，<br>  将这一行 的行距设为固定值1磅，该空白页将自动消失。</p>
<p>8、后面有空白是上一页内容过多导致的，一般可以把鼠标点到空白面上，然后按回退键，退有内容的那一面，<br>   空白的就没有了，如果还存在，可以稍调整一下上一页内容，少一行就可以了 。</p>
<p>9、word 预览有空白页 页面视图时没有。空白页有页码，造成我打印的文档页码不连续。怎样删除：可能<br>是你的文档中有过宽，过长的对象（如表格，图片，公式），导致与打印纸张的规格不一至，调整附近的对象<br>（如表格，图片，公式）大小看看。 也可能与分栏和一些可个和回车符号有关。</p>
<p>10、ctrl+enter即可去除空白页</p>
<p>11、插入表格后的Word删除空白页 </p>
<pre><code>在Word2003中插入一张表格并使该表格充满当前页时，会在当前页后面产生一个空白页。尽管在产生的空白
</code></pre><p>页中只含有一个段落标记，但是无法将其删除，从而无法去掉该Word空白页。不过用户可以按以下步骤删除了： </p>
<pre><code>第1步：在Word2003窗口选中空白页中的段落标记，然后在Word菜单栏依次单击“编辑”→“全选”菜单命令。 

第2步：在Word菜单栏依次单击“格式”→“段落”菜单命令，打开“段落”对话框。在“行距”下拉菜单中
      选中 “固定值”，并将“设置值”调整为“1”。设置完毕单击“确定”按钮&lt;/pre&gt;
</code></pre><p>&nbsp;</p>
<p>转自<a href="http://zhidao.baidu.com/question/159255051.html" target="_blank" rel="external">百度知道</a>  <a href="http://zhidao.baidu.com/question/159255051.html" target="_blank" rel="external">http://zhidao.baidu.com/question/159255051.html</a></p>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/office/">office</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/office/">office</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/word/">word</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/删除/">删除</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/空白页/">空白页</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-如何在代码中写SQL语句" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/02/如何在代码中写SQL语句/" class="article-date">
      <time datetime="2016-08-02T11:47:56.000Z" itemprop="datePublished">2016-08-02</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/02/如何在代码中写SQL语句/">如何在代码中写SQL语句</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>自从暑假以来,我就在实验室跟着学长做项目，说白了就是由学长指导，然后自学C#语言作项目。其实编程语言都是互通的，有代码基础之后看一下语句特点就可以了一点都不难（也可能是我没有用到比较难的知识点）。</p>
<p>在整个项目中，由我负责写后台的Web API代码，并且几乎每一个API都会用放到SQL。但由于自己贪玩，并没有认真学 <strong>数据库</strong> 这门课，于是问题就来了：怎么在C#中写SQL？接下来就把我在自学的东西写一下（各种便称语言<strong>通用</strong>）。</p>
<p>样例：  <code>where UserName=&quot; + &quot;&#39;&quot; + username + &quot;&#39;</code></p>
<p>分析一下为什么在引用参数是会使用那么多怪异的符号</p>
<ol>
<li>在C#、java等语言中，在console中整体输出多个变量时，需要用 <strong>“+” </strong>进行连接，而这些语言中写的SQL语句最终也会输出，再通过ExecuteReader 方法发送出去。所以在SQL中写<em><strong>变量 </strong></em>时，应该用<strong>+加号</strong>连接。（为什么在=后面用<em><strong>+加号</strong></em>）</li>
<li>在C#、java等语言中，在console中输出常量时，同样需要用<em><strong>双引号、加号</strong></em>连接，而且SQL将其看作一个常量输出（为什么用<strong>+</strong><em><strong>加号、双引号 </strong></em>包围参数）</li>
<li>在SQL中，使用字符串时，需要用<em><strong>单引号 </strong></em>括着（为什么用单引号包围参数）<br>看懂上方的3条，就可以灵活地在代码中使用 <strong>SQL、参数 </strong>而多个参数直接用AND连接即可(下方代码亲测有效)<br><code>SqlCommand querySingleInfo = conn.CreateCommand();
querySingleInfo.CommandText = &quot;SELECT * FROM Member where UserName=&quot; + &quot;&#39;&quot; + username + &quot;&#39;&quot;;
SqlDataReader singleInfoReader = querySingleInfo.ExecuteReader();</code></li>
</ol>
<p>&nbsp;</p>
<p>关于SQL其他应用，会另有更新。。。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/SQL/">SQL</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/NET/">.NET</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/">SQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c-c/">c/c++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2017 谢红光
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 6;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>